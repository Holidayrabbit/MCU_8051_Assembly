A51 MACRO ASSEMBLER  PIANO                                                                12/23/2023 04:26:33 PAGE     1


MACRO ASSEMBLER A51 V8.2.7.0
OBJECT MODULE PLACED IN .\Objects\piano.obj
ASSEMBLER INVOKED BY: D:\Software\Keil_v5\C51\BIN\A51.EXE piano.asm NOMOD51 SET(SMALL) DEBUG PRINT(.\Listings\piano.lst)
                       OBJECT(.\Objects\piano.obj) EP

LOC  OBJ            LINE     SOURCE

                       1     ;------------------------------------
                       2     ;-  Generated Initialization File  --
                       3     ;------------------------------------
                       4     
                       5     ;$include (C8051F020.inc)
                +1     6     ;-----------------------------------------------------------------------------
                +1     7     ;       
                +1     8     ;       
                +1     9     ;
                +1    10     ;
                +1    11     ;       FILE NAME       : C8051F020.INC 
                +1    12     ;       TARGET MCUs     : C8051F020, 'F021, 'F022, 'F023 
                +1    13     ;       DESCRIPTION     : Register/bit definitions for the C8051F02x product family.  
                +1    14     ;
                +1    15     ;       REVISION 1.0    
                +1    16     ;
                +1    17     ;-----------------------------------------------------------------------------
                +1    18     ;REGISTER DEFINITIONS
                +1    19     ;
  0080          +1    20     P0       DATA  080H   ; PORT 0
  0081          +1    21     SP       DATA  081H   ; STACK POINTER
  0082          +1    22     DPL      DATA  082H   ; DATA POINTER - LOW BYTE
  0083          +1    23     DPH      DATA  083H   ; DATA POINTER - HIGH BYTE
  0084          +1    24     P4       DATA  084H   ; PORT 4
  0085          +1    25     P5       DATA  085H   ; PORT 5
  0086          +1    26     P6       DATA  086H   ; PORT 6
  0087          +1    27     PCON     DATA  087H   ; POWER CONTROL
  0088          +1    28     TCON     DATA  088H   ; TIMER CONTROL
  0089          +1    29     TMOD     DATA  089H   ; TIMER MODE
  008A          +1    30     TL0      DATA  08AH   ; TIMER 0 - LOW BYTE
  008B          +1    31     TL1      DATA  08BH   ; TIMER 1 - LOW BYTE
  008C          +1    32     TH0      DATA  08CH   ; TIMER 0 - HIGH BYTE
  008D          +1    33     TH1      DATA  08DH   ; TIMER 1 - HIGH BYTE
  008E          +1    34     CKCON    DATA  08EH   ; CLOCK CONTROL
  008F          +1    35     PSCTL    DATA  08FH   ; PROGRAM STORE R/W CONTROL
  0090          +1    36     P1       DATA  090H   ; PORT 1
  0091          +1    37     TMR3CN   DATA  091H   ; TIMER 3 CONTROL
  0092          +1    38     TMR3RLL  DATA  092H   ; TIMER 3 RELOAD REGISTER - LOW BYTE
  0093          +1    39     TMR3RLH  DATA  093H   ; TIMER 3 RELOAD REGISTER - HIGH BYTE
  0094          +1    40     TMR3L    DATA  094H   ; TIMER 3 - LOW BYTE
  0095          +1    41     TMR3H    DATA  095H   ; TIMER 3 - HIGH BYTE
  0096          +1    42     P7       DATA  096H   ; PORT 7
  0098          +1    43     SCON0    DATA  098H   ; SERIAL PORT 0 CONTROL
  0099          +1    44     SBUF0    DATA  099H   ; SERIAL PORT 0 BUFFER
  009A          +1    45     SPI0CFG  DATA  09AH   ; SERIAL PERIPHERAL INTERFACE 0 CONFIGURATION
  009B          +1    46     SPI0DAT  DATA  09BH   ; SERIAL PERIPHERAL INTERFACE 0 DATA
  009C          +1    47     ADC1     DATA  09CH   ; ADC 1 DATA
  009D          +1    48     SPI0CKR  DATA  09DH   ; SERIAL PERIPHERAL INTERFACE 0 CLOCK RATE CONTROL
  009E          +1    49     CPT0CN   DATA  09EH   ; COMPARATOR 0 CONTROL
  009F          +1    50     CPT1CN   DATA  09FH   ; COMPARATOR 1 CONTROL 
  00A0          +1    51     P2       DATA  0A0H   ; PORT 2
  00A1          +1    52     EMI0TC   DATA  0A1H   ; EMIF TIMING CONTROL
  00A3          +1    53     EMI0CF   DATA  0A3H   ; EXTERNAL MEMORY INTERFACE (EMIF) CONFIGURATION
  00A4          +1    54     P0MDOUT  DATA  0A4H   ; PORT 0 OUTPUT MODE CONFIGURATION
  00A5          +1    55     P1MDOUT  DATA  0A5H   ; PORT 1 OUTPUT MODE CONFIGURATION
  00A6          +1    56     P2MDOUT  DATA  0A6H   ; PORT 2 OUTPUT MODE CONFIGURATION
  00A7          +1    57     P3MDOUT  DATA  0A7H   ; PORT 3 OUTPUT MODE CONFIGURATION
A51 MACRO ASSEMBLER  PIANO                                                                12/23/2023 04:26:33 PAGE     2

  00A8          +1    58     IE       DATA  0A8H   ; INTERRUPT ENABLE
  00A9          +1    59     SADDR0   DATA  0A9H   ; SERIAL PORT 0 SLAVE ADDRESS
  00AA          +1    60     ADC1CN  DATA  0AAH   ; ADC 1 CONTROL
  00AB          +1    61     ADC1CF   DATA  0ABH   ; ADC 1 ANALOG MUX CONFIGURATION
  00AC          +1    62     AMX1SL   DATA  0ACH   ; ADC 1 ANALOG MUX CHANNEL SELECT
  00AD          +1    63     P3IF     DATA  0ADH   ; PORT 3 EXTERNAL INTERRUPT FLAGS
  00AE          +1    64     SADEN1   DATA  0AEH   ; SERIAL PORT 1 SLAVE ADDRESS MASK
  00AF          +1    65     EMI0CN   DATA  0AFH   ; EXTERNAL MEMORY INTERFACE CONTROL
  00B0          +1    66     P3       DATA  0B0H   ; PORT 3
  00B1          +1    67     OSCXCN   DATA  0B1H   ; EXTERNAL OSCILLATOR CONTROL
  00B2          +1    68     OSCICN   DATA  0B2H   ; INTERNAL OSCILLATOR CONTROL
  00B5          +1    69     P74OUT   DATA  0B5H   ; PORTS 4 - 7 OUTPUT MODE
  00B6          +1    70     FLSCL    DATA  0B6H   ; FLASH MEMORY TIMING PRESCALER
  00B7          +1    71     FLACL    DATA  0B7H   ; FLASH ACESS LIMIT 
  00B8          +1    72     IP       DATA  0B8H   ; INTERRUPT PRIORITY
  00B9          +1    73     SADEN0   DATA  0B9H   ; SERIAL PORT 0 SLAVE ADDRESS MASK
  00BA          +1    74     AMX0CF   DATA  0BAH   ; ADC 0 MUX CONFIGURATION
  00BB          +1    75     AMX0SL   DATA  0BBH   ; ADC 0 MUX CHANNEL SELECTION
  00BC          +1    76     ADC0CF   DATA  0BCH   ; ADC 0 CONFIGURATION
  00BD          +1    77     P1MDIN   DATA  0BDH   ; PORT 1 INPUT MODE
  00BE          +1    78     ADC0L    DATA  0BEH   ; ADC 0 DATA - LOW BYTE
  00BF          +1    79     ADC0H    DATA  0BFH   ; ADC 0 DATA - HIGH BYTE 
  00C0          +1    80     SMB0CN   DATA  0C0H   ; SMBUS 0 CONTROL
  00C1          +1    81     SMB0STA  DATA  0C1H   ; SMBUS 0 STATUS
  00C2          +1    82     SMB0DAT  DATA  0C2H   ; SMBUS 0 DATA 
  00C3          +1    83     SMB0ADR  DATA  0C3H   ; SMBUS 0 SLAVE ADDRESS
  00C4          +1    84     ADC0GTL  DATA  0C4H   ; ADC 0 GREATER-THAN REGISTER - LOW BYTE
  00C5          +1    85     ADC0GTH  DATA  0C5H   ; ADC 0 GREATER-THAN REGISTER - HIGH BYTE
  00C6          +1    86     ADC0LTL  DATA  0C6H   ; ADC 0 LESS-THAN REGISTER - LOW BYTE
  00C7          +1    87     ADC0LTH  DATA  0C7H   ; ADC 0 LESS-THAN REGISTER - HIGH BYTE
  00C8          +1    88     T2CON    DATA  0C8H   ; TIMER 2 CONTROL
  00C9          +1    89     T4CON    DATA  0C9H   ; TIMER 4 CONTROL
  00CA          +1    90     RCAP2L   DATA  0CAH   ; TIMER 2 CAPTURE REGISTER - LOW BYTE
  00CB          +1    91     RCAP2H   DATA  0CBH   ; TIMER 2 CAPTURE REGISTER - HIGH BYTE
  00CC          +1    92     TL2      DATA  0CCH   ; TIMER 2 - LOW BYTE
  00CD          +1    93     TH2      DATA  0CDH   ; TIMER 2 - HIGH BYTE
  00CF          +1    94     SMB0CR   DATA  0CFH   ; SMBUS 0 CLOCK RATE
  00D0          +1    95     PSW      DATA  0D0H   ; PROGRAM STATUS WORD
  00D1          +1    96     REF0CN   DATA  0D1H   ; VOLTAGE REFERENCE 0 CONTROL
  00D2          +1    97     DAC0L    DATA  0D2H   ; DAC 0 REGISTER - LOW BYTE
  00D3          +1    98     DAC0H    DATA  0D3H   ; DAC 0 REGISTER - HIGH BYTE
  00D4          +1    99     DAC0CN   DATA  0D4H   ; DAC 0 CONTROL
  00D5          +1   100     DAC1L    DATA  0D5H   ; DAC 1 REGISTER - LOW BYTE
  00D6          +1   101     DAC1H    DATA  0D6H   ; DAC 1 REGISTER - HIGH BYTE
  00D7          +1   102     DAC1CN   DATA  0D7H   ; DAC 1 CONTROL
  00D8          +1   103     PCA0CN   DATA  0D8H   ; PCA 0 COUNTER CONTROL
  00D9          +1   104     PCA0MD   DATA  0D9H   ; PCA 0 COUNTER MODE
  00DA          +1   105     PCA0CPM0 DATA  0DAH   ; CONTROL REGISTER FOR PCA 0 MODULE 0
  00DB          +1   106     PCA0CPM1 DATA  0DBH   ; CONTROL REGISTER FOR PCA 0 MODULE 1
  00DC          +1   107     PCA0CPM2 DATA  0DCH   ; CONTROL REGISTER FOR PCA 0 MODULE 2
  00DD          +1   108     PCA0CPM3 DATA  0DDH   ; CONTROL REGISTER FOR PCA 0 MODULE 3
  00DE          +1   109     PCA0CPM4 DATA  0DEH   ; CONTROL REGISTER FOR PCA 0 MODULE 4
  00E0          +1   110     ACC      DATA  0E0H   ; ACCUMULATOR
  00E1          +1   111     XBR0     DATA  0E1H   ; DIGITAL CROSSBAR CONFIGURATION REGISTER 0
  00E2          +1   112     XBR1     DATA  0E2H   ; DIGITAL CROSSBAR CONFIGURATION REGISTER 1
  00E3          +1   113     XBR2     DATA  0E3H   ; DIGITAL CROSSBAR CONFIGURATION REGISTER 2
  00E4          +1   114     RCAP4L   DATA  0E4H   ; TIMER 4 CAPTURE REGISTER - LOW BYTE
  00E5          +1   115     RCAP4H   DATA  0E5H   ; TIMER 4 CAPTURE REGISTER - HIGH BYTE
  00E6          +1   116     EIE1     DATA  0E6H   ; EXTERNAL INTERRUPT ENABLE 1
  00E7          +1   117     EIE2     DATA  0E7H   ; EXTERNAL INTERRUPT ENABLE 2
  00E8          +1   118     ADC0CN   DATA  0E8H   ; ADC 0 CONTROL
  00E9          +1   119     PCA0L    DATA  0E9H   ; PCA 0 TIMER - LOW BYTE
  00EA          +1   120     PCA0CPL0 DATA  0EAH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 0 - LOW BYTE
  00EB          +1   121     PCA0CPL1 DATA  0EBH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 1 - LOW BYTE
  00EC          +1   122     PCA0CPL2 DATA  0ECH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 2 - LOW BYTE
  00ED          +1   123     PCA0CPL3 DATA  0EDH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 3 - LOW BYTE
A51 MACRO ASSEMBLER  PIANO                                                                12/23/2023 04:26:33 PAGE     3

  00EE          +1   124     PCA0CPL4 DATA  0EEH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 4 - LOW BYTE
  00EF          +1   125     RSTSRC   DATA  0EFH   ; RESET SOURCE 
  00F0          +1   126     B        DATA  0F0H   ; B REGISTER
  00F1          +1   127     SCON1    DATA  0F1H   ; SERIAL PORT 1 CONTROL
  00F2          +1   128     SBUF1    DATA  0F2H   ; SERAIL PORT 1 DATA
  00F3          +1   129     SADDR1   DATA  0F3H   ; SERAIL PORT 1 
  00F4          +1   130     TL4      DATA  0F4H   ; TIMER 4 DATA - LOW BYTE
  00F5          +1   131     TH4      DATA  0F5H   ; TIMER 4 DATA - HIGH BYTE
  00F6          +1   132     EIP1     DATA  0F6H   ; EXTERNAL INTERRUPT PRIORITY REGISTER 1
  00F7          +1   133     EIP2     DATA  0F7H   ; EXTERNAL INTERRUPT PRIORITY REGISTER 2
  00F8          +1   134     SPI0CN   DATA  0F8H   ; SERIAL PERIPHERAL INTERFACE 0 CONTROL 
  00F9          +1   135     PCA0H    DATA  0F9H   ; PCA 0 TIMER - HIGH BYTE
  00FA          +1   136     PCA0CPH0 DATA  0FAH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 0 - HIGH BYTE
  00FB          +1   137     PCA0CPH1 DATA  0FBH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 1 - HIGH BYTE
  00FC          +1   138     PCA0CPH2 DATA  0FCH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 2 - HIGH BYTE
  00FD          +1   139     PCA0CPH3 DATA  0FDH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 3 - HIGH BYTE
  00FE          +1   140     PCA0CPH4 DATA  0FEH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 4 - HIGH BYTE
  00FF          +1   141     WDTCN    DATA  0FFH   ; WATCHDOG TIMER CONTROL 
                +1   142     ;
                +1   143     ;------------------------------------------------------------------------------
                +1   144     ;BIT DEFINITIONS
                +1   145     ;
                +1   146     ; TCON 88H
  0088          +1   147     IT0      BIT   TCON.0 ; EXT. INTERRUPT 0 TYPE
  0089          +1   148     IE0      BIT   TCON.1 ; EXT. INTERRUPT 0 EDGE FLAG
  008A          +1   149     IT1      BIT   TCON.2 ; EXT. INTERRUPT 1 TYPE
  008B          +1   150     IE1      BIT   TCON.3 ; EXT. INTERRUPT 1 EDGE FLAG
  008C          +1   151     TR0      BIT   TCON.4 ; TIMER 0 ON/OFF CONTROL
  008D          +1   152     TF0      BIT   TCON.5 ; TIMER 0 OVERFLOW FLAG
  008E          +1   153     TR1      BIT   TCON.6 ; TIMER 1 ON/OFF CONTROL
  008F          +1   154     TF1      BIT   TCON.7 ; TIMER 1 OVERFLOW FLAG
                +1   155     ;
                +1   156     ; SCON0 98H
  0098          +1   157     RI       BIT   SCON0.0 ; RECEIVE INTERRUPT FLAG
  0099          +1   158     TI       BIT   SCON0.1 ; TRANSMIT INTERRUPT FLAG
  009A          +1   159     RB8      BIT   SCON0.2 ; RECEIVE BIT 8
  009B          +1   160     TB8      BIT   SCON0.3 ; TRANSMIT BIT 8
  009C          +1   161     REN      BIT   SCON0.4 ; RECEIVE ENABLE
  009D          +1   162     SM2      BIT   SCON0.5 ; MULTIPROCESSOR COMMUNICATION ENABLE
  009E          +1   163     SM1      BIT   SCON0.6 ; SERIAL MODE CONTROL BIT 1
  009F          +1   164     SM0      BIT   SCON0.7 ; SERIAL MODE CONTROL BIT 0
                +1   165     ; 
                +1   166     ; IE A8H
  00A8          +1   167     EX0      BIT   IE.0   ; EXTERNAL INTERRUPT 0 ENABLE
  00A9          +1   168     ET0      BIT   IE.1   ; TIMER 0 INTERRUPT ENABLE
  00AA          +1   169     EX1      BIT   IE.2   ; EXTERNAL INTERRUPT 1 ENABLE
  00AB          +1   170     ET1      BIT   IE.3   ; TIMER 1 INTERRUPT ENABLE
  00AC          +1   171     ES       BIT   IE.4   ; SERIAL PORT INTERRUPT ENABLE
  00AD          +1   172     ET2      BIT   IE.5   ; TIMER 2 INTERRUPT ENABLE
  00AF          +1   173     EA       BIT   IE.7   ; GLOBAL INTERRUPT ENABLE
                +1   174     ;
                +1   175     ; IP B8H
  00B8          +1   176     PX0      BIT   IP.0   ; EXTERNAL INTERRUPT 0 PRIORITY
  00B9          +1   177     PT0      BIT   IP.1   ; TIMER 0 PRIORITY
  00BA          +1   178     PX1      BIT   IP.2   ; EXTERNAL INTERRUPT 1 PRIORITY
  00BB          +1   179     PT1      BIT   IP.3   ; TIMER 1 PRIORITY
  00BC          +1   180     PS       BIT   IP.4   ; SERIAL PORT PRIORITY
  00BD          +1   181     PT2      BIT   IP.5   ; TIMER 2 PRIORITY
                +1   182     ;
                +1   183     ; SMB0CN C0H
  00C0          +1   184     SMBTOE   BIT   SMB0CN.0 ; SMBUS 0 TIMEOUT ENABLE
  00C1          +1   185     SMBFTE   BIT   SMB0CN.1 ; SMBUS 0 FREE TIMER ENABLE
  00C2          +1   186     AA       BIT   SMB0CN.2 ; SMBUS 0 ASSERT/ACKNOWLEDGE FLAG
  00C3          +1   187     SI       BIT   SMB0CN.3 ; SMBUS 0 INTERRUPT PENDING FLAG
  00C4          +1   188     STO      BIT   SMB0CN.4 ; SMBUS 0 STOP FLAG
  00C5          +1   189     STA      BIT   SMB0CN.5 ; SMBUS 0 START FLAG
A51 MACRO ASSEMBLER  PIANO                                                                12/23/2023 04:26:33 PAGE     4

  00C6          +1   190     ENSMB    BIT   SMB0CN.6 ; SMBUS 0 ENABLE 
                +1   191     ;
                +1   192     ; T2CON C8H
  00C8          +1   193     CPRL2    BIT   T2CON.0 ; CAPTURE OR RELOAD SELECT
  00C9          +1   194     CT2      BIT   T2CON.1 ; TIMER OR COUNTER SELECT
  00CA          +1   195     TR2      BIT   T2CON.2 ; TIMER 2 ON/OFF CONTROL
  00CB          +1   196     EXEN2    BIT   T2CON.3 ; TIMER 2 EXTERNAL ENABLE FLAG
  00CC          +1   197     TCLK     BIT   T2CON.4 ; TRANSMIT CLOCK FLAG
  00CD          +1   198     RCLK     BIT   T2CON.5 ; RECEIVE CLOCK FLAG
  00CE          +1   199     EXF2     BIT   T2CON.6 ; EXTERNAL FLAG
  00CF          +1   200     TF2      BIT   T2CON.7 ; TIMER 2 OVERFLOW FLAG
                +1   201     ;
                +1   202     ; PSW D0H
  00D0          +1   203     P        BIT   PSW.0  ; ACCUMULATOR PARITY FLAG
  00D1          +1   204     F1       BIT   PSW.1  ; USER FLAG 1
  00D2          +1   205     OV       BIT   PSW.2  ; OVERFLOW FLAG
  00D3          +1   206     RS0      BIT   PSW.3  ; REGISTER BANK SELECT 0
  00D4          +1   207     RS1      BIT   PSW.4  ; REGISTER BANK SELECT 1
  00D5          +1   208     F0       BIT   PSW.5  ; USER FLAG 0
  00D6          +1   209     AC       BIT   PSW.6  ; AUXILIARY CARRY FLAG
  00D7          +1   210     CY       BIT   PSW.7  ; CARRY FLAG
                +1   211     ;
                +1   212     ; PCA0CN D8H
  00D8          +1   213     CCF0     BIT   PCA0CN.0 ; PCA 0 MODULE 0 INTERRUPT FLAG
  00D9          +1   214     CCF1     BIT   PCA0CN.1 ; PCA 0 MODULE 1 INTERRUPT FLAG
  00DA          +1   215     CCF2     BIT   PCA0CN.2 ; PCA 0 MODULE 2 INTERRUPT FLAG
  00DB          +1   216     CCF3     BIT   PCA0CN.3 ; PCA 0 MODULE 3 INTERRUPT FLAG
  00DC          +1   217     CCF4     BIT   PCA0CN.4 ; PCA 0 MODULE 4 INTERRUPT FLAG
  00DE          +1   218     CR       BIT   PCA0CN.6 ; PCA 0 COUNTER RUN CONTROL BIT
  00DF          +1   219     CF       BIT   PCA0CN.7 ; PCA 0 COUNTER OVERFLOW FLAG
                +1   220     ;
                +1   221     ; ADC0CN E8H
  00E8          +1   222     AD0LJST  BIT   ADC0CN.0 ; ADC 0 RIGHT JUSTIFY DATA BIT
  00E9          +1   223     AD0WINT  BIT   ADC0CN.1 ; ADC 0 WINDOW COMPARE INTERRUPT FLAG
  00EA          +1   224     AD0STM0  BIT   ADC0CN.2 ; ADC 0 START OF CONVERSION MODE BIT 0
  00EB          +1   225     AD0STM1  BIT   ADC0CN.3 ; ADC 0 START OF CONVERSION MODE BIT 1
  00EC          +1   226     AD0BUSY  BIT   ADC0CN.4 ; ADC 0 BUSY FLAG
  00ED          +1   227     AD0INT   BIT   ADC0CN.5 ; ADC 0 CONVERISION COMPLETE INTERRUPT FLAG 
  00EE          +1   228     AD0TM    BIT   ADC0CN.6 ; ADC 0 TRACK MODE
  00EF          +1   229     AD0EN    BIT   ADC0CN.7 ; ADC 0 ENABLE
                +1   230     ;
                +1   231     ; SPI0CN F8H
  00F8          +1   232     SPIEN    BIT   SPI0CN.0 ; SPI 0 SPI ENABLE
  00F9          +1   233     MSTEN    BIT   SPI0CN.1 ; SPI 0 MASTER ENABLE
  00FA          +1   234     SLVSEL   BIT   SPI0CN.2 ; SPI 0 SLAVE SELECT
  00FB          +1   235     TXBSY    BIT   SPI0CN.3 ; SPI 0 TX BUSY FLAG
  00FC          +1   236     RXOVRN   BIT   SPI0CN.4 ; SPI 0 RX OVERRUN FLAG
  00FD          +1   237     MODF     BIT   SPI0CN.5 ; SPI 0 MODE FAULT FLAG
  00FE          +1   238     WCOL     BIT   SPI0CN.6 ; SPI 0 WRITE COLLISION FLAG
  00FF          +1   239     SPIF     BIT   SPI0CN.7 ; SPI 0 INTERRUPT FLAG
                     240     
                     241     
  00A0               242     RS bit P2.0
  00A1               243     RW bit P2.1
  00A2               244     E bit P2.2      
  00A3               245     BUZ BIT P2.3
                     246     
  007A               247     KeyVal_Address  EQU 7AH   ;´æ´¢ÊäÈë¼üÖµ
  0031               248     STH0 EQU 31H             ;STH0 ¶¨ÒåÎª,31H
  0032               249     STL0 EQU 32H             ;STL0 ¶¨ÒåÎª,32H
  0033               250     TEMP EQU 33H             ;TEMP ¶¨ÒåÎª,33H       
                     251     
                     252     
0000                 253     ORG 0000H
0000 2100            254         AJMP MAIN
000B                 255     ORG 000BH
A51 MACRO ASSEMBLER  PIANO                                                                12/23/2023 04:26:33 PAGE     5

000B 020338          256             LJMP INT_T0
                     257     
                     258                     
0100                 259     ORG 0100H                                          ;³ÌÐòµØÖ·
0100                 260     MAIN:
0100 1203CC          261             LCALL Init_Device
0103 120217          262             LCALL   LCD_INIT
                     263     
0106                 264     MAIN_LOOP:
0106 757A62          265             MOV 7AH, #98
0109 1202A6          266             LCALL KEY_SCAN
010C E57A            267             MOV A, 7AH                 
                     268                                
010E B40003          269                             CJNE A,#0,NK1          ;¸ù¾Ý¶ÎÂëÅÐ¶ÏAµÄ¼üÖµ         ;
0111 0201EA          270                             LJMP Start_Piano         ;K1¼ü°´ÏÂ
0114 B40103          271     NK1:       CJNE A,#1,NK2          ; K2¼ü°´ÏÂ
0117 0201EA          272                LJMP Start_Piano          ;
011A B40203          273     NK2:       CJNE A,#2,NK3          ;K3¼ü°´ÏÂ         
011D 0201EA          274                LJMP Start_Piano         ;
0120 B40303          275     NK3:       CJNE A,#3,NK4          ;K4¼ü°´ÏÂ         ;
0123 0201EA          276                LJMP Start_Piano
0126 B40403          277     NK4:       CJNE A,#4,NK5          ; K5¼ü°´ÏÂ
0129 0201EA          278                LJMP Start_Piano          ;
012C B40503          279     NK5:       CJNE A,#5,NK6          ;K6¼ü°´ÏÂ         
012F 0201EA          280                LJMP Start_Piano         ;
0132 B40603          281     NK6:       CJNE A,#6,NK7         ;K7¼ü°´ÏÂ         ;
0135 0201EA          282                LJMP Start_Piano
0138 B40703          283     NK7:       CJNE A,#7,NK8          ; K8¼ü°´ÏÂ
013B 0201EA          284                LJMP Start_Piano          ;
013E B40803          285     NK8:       CJNE A,#8,NK9          ;K9¼ü°´ÏÂ         
0141 0201EA          286                LJMP Start_Piano         ;
0144 B40903          287     NK9:       CJNE A,#9,NK10          ;K10¼ü°´ÏÂ         ;
0147 0201EA          288                LJMP Start_Piano
014A B40A03          289     NK10:       CJNE A,#10,NK11          ; K11¼ü°´ÏÂ
014D 0201EA          290                LJMP Start_Piano          ;
0150 B40B03          291     NK11:       CJNE A,#11,NK12         ;K12¼ü°´ÏÂ         
0153 0201EA          292                LJMP Start_Piano         ;
0156 B40C03          293     NK12:       CJNE A,#12,NK13         ;K13¼ü°´ÏÂ         ;
0159 0201EA          294                LJMP Start_Piano
015C B40D03          295     NK13:       CJNE A,#13,NK14          ; K14¼ü°´ÏÂ
015F 0201EA          296                LJMP Start_Piano          ;
0162 B40E03          297     NK14:       CJNE A,#14,NK15          ;K15¼ü°´ÏÂ         
0165 0201EA          298                LJMP Start_Piano         ;
0168 B40F03          299     NK15:       CJNE A,#15,NK16          ;K16¼ü°´ÏÂ         ;
016B 0201EA          300                LJMP Start_Piano
016E B41003          301     NK16:       CJNE A,#16,NK17          ; K17¼ü°´ÏÂ
0171 0201EA          302                LJMP Start_Piano          ;
0174 B41103          303     NK17:       CJNE A,#17,NK18          ;K18¼ü°´ÏÂ         
0177 0201EA          304                LJMP Start_Piano         ;
017A B41203          305     NK18:       CJNE A,#18,NK19          ;K19¼ü°´ÏÂ         ;
017D 0201EA          306                LJMP Start_Piano
0180 B41303          307     NK19:       CJNE A,#19,NK20          ; K20¼ü°´ÏÂ
0183 0201EA          308                LJMP Start_Piano          ;
0186 B41403          309     NK20:       CJNE A,#20,NK21          ;K21¼ü°´ÏÂ         
0189 0201EA          310                LJMP Start_Piano         ;
018C B41503          311     NK21:       CJNE A,#21,NK22          ;K22¼ü°´ÏÂ         ;
018F 0201EA          312                LJMP Start_Piano
0192 B41603          313     NK22:       CJNE A,#22,NK23          ; K23¼ü°´ÏÂ
0195 0201EA          314                LJMP Start_Piano          ;
0198 B41703          315     NK23:       CJNE A,#23,NK24          ;K24¼ü°´ÏÂ         
019B 0201EA          316                LJMP Start_Piano         ;
019E B41803          317     NK24:       CJNE A,#24,NK25          ;K25¼ü°´ÏÂ         ;
01A1 0201EA          318                LJMP Start_Piano
01A4 B41903          319     NK25:       CJNE A,#25,NK26          ; K26¼ü°´ÏÂ
01A7 0201EA          320                LJMP Start_Piano          ;
01AA B41A03          321     NK26:       CJNE A,#26,NK27          ;K27¼ü°´ÏÂ         
A51 MACRO ASSEMBLER  PIANO                                                                12/23/2023 04:26:33 PAGE     6

01AD 0201EA          322                LJMP Start_Piano         ;
01B0 B41B03          323     NK27:       CJNE A,#27,NK28          ;K28¼ü°´ÏÂ         ;
01B3 0201EA          324                LJMP Start_Piano
01B6 B41C03          325     NK28:       CJNE A,#28,NK29          ;K29¼ü°´ÏÂ         
01B9 0201EA          326                LJMP Start_Piano         ;
01BC B41D03          327     NK29:       CJNE A,#29,NK30          ;K30¼ü°´ÏÂ         ;
01BF 0201EA          328                LJMP Start_Piano
01C2 B41E03          329     NK30:       CJNE A,#30,NK31          ; K31¼ü°´ÏÂ
01C5 0201EA          330                LJMP Start_Piano          ;
01C8 B41F03          331     NK31:       CJNE A,#31,NK32          ;K32¼ü°´ÏÂ         
01CB 0201EA          332                LJMP Start_Piano         ;
01CE B42003          333     NK32:       CJNE A,#32,NK33          ;K33¼ü°´ÏÂ         ;
01D1 0201EA          334                LJMP Start_Piano
01D4 B42103          335     NK33:       CJNE A,#33,NK34          ; K34¼ü°´ÏÂ
01D7 0201EA          336                LJMP Start_Piano          ;
01DA B42203          337     NK34:       CJNE A,#34,NK35          ;K35¼ü°´ÏÂ         
01DD 0201EA          338                LJMP Start_Piano         ;
01E0 B42303          339     NK35:       CJNE A,#35,NK36          ;K36¼ü°´ÏÂ         ;
01E3 0201EA          340                LJMP Start_Piano
                     341     
                     342     
01E6 00              343     NK36:       NOP                    ;Ã»ÓÐ¼ü°´ÏÂ
                     344     
01E7 020106          345                     LJMP MAIN_LOOP
                     346                     
                     347                     
01EA                 348     Start_Piano:       
01EA E57A            349                             MOV A,KeyVal_Address
01EC 75F002          350                MOV B,#2
01EF A4              351                             MUL AB          ;ÒòÎª²é±íÀï¶¼ÊÇ×Ö£¬ËùÒÔ³Ë2µÄ²é±íÊ¾Ý
01F0 F533            352                MOV TEMP,A          ;
01F2 900341          353                MOV DPTR,#TABLE          ;  Ö¸Ïò±íÍ·
01F5 93              354                MOVC A,@A+DPTR          ; ²é±í
01F6 F531            355                MOV STH0,A          ;
01F8 F58C            356                MOV TH0,A          ;  ½«Ê¾Ý¸ßÎ»ËÍTH0
01FA 0533            357                INC TEMP          ;
01FC E533            358                MOV A,TEMP          ;
01FE 93              359                MOVC A,@A+DPTR          ;
01FF F532            360                MOV STL0,A          ;
0201 F58A            361                MOV TL0,A          ;½«Ê¾ÝµÍÎ»ËÍTH0
0203 D28C            362                SETB TR0          ; Æô¶¯¶¨Ê±Æ÷T0
                     363                        
0205                 364     Stop_Piano:      
0205 758500          365                     MOV P5, #00000000B;ËÉÊÖ¼ì²â
0208 75843F          366                     MOV P4, #00111111B
020B E584            367                     MOV A, P4
020D B43FF5          368                     CJNE A, #00111111B,Stop_Piano
0210 C28C            369             CLR TR0          ;¹Ø±Õ¶¨Ê±Æ÷T0
0212 D2A3            370                     SETB BUZ
                     371                     
0214 020106          372                     LJMP MAIN_LOOP
                     373     
                     374             
0217                 375     LCD_INIT:
0217 C2A0            376             CLR RS
0219 C2A1            377             CLR RW
021B C2A2            378             CLR E
021D 758001          379             MOV P0,#01H;Çå³ÆÁÄ»
                     380             
                     381     
0220 5175            382             ACALL ENABLE
0222 758038          383             MOV P0,#38H;8Î»µãÕó·½Ê½
0225 517A            384             ACALL ENABLE1
                     385             
0227 5175            386             ACALL ENABLE
0229 75800C          387             MOV P0,#0CH;¿ªÏÔÊ¾
A51 MACRO ASSEMBLER  PIANO                                                                12/23/2023 04:26:33 PAGE     7

022C 517A            388             ACALL ENABLE1
                     389             
022E 5175            390             ACALL ENABLE
0230 758006          391             MOV P0,#06H;ÒÆ¶¯¹â±ê
0233 517A            392             ACALL ENABLE1
                     393             
0235 5175            394             ACALL ENABLE
0237 758001          395             MOV P0,#01H;¹â±ê¸´Î»
023A 517A            396             ACALL ENABLE1
                     397             
023C 22              398             RET
                     399     
                     400     
023D                 401     LCD_DISP0:      
                     402     
                     403             
023D 900389          404             MOV DPTR,#table3;ËÍÊ¾Ý±í3
0240 120283          405             LCALL WRITE1
                     406             
0243 5175            407             ACALL ENABLE
0245 7580C0          408             MOV P0,#0C0H;ÒÆ¶¯¹â±êÎ»ÖÃµ½µÚ¶þÐÐ
0248 517A            409             ACALL ENABLE1
024A 22              410             RET
                     411             
024B                 412     LCD_DISP1:      
024B 900399          413             MOV DPTR,#table2
024E 120283          414             LCALL WRITE1
                     415             
0251 5175            416             ACALL ENABLE
0253 758080          417             MOV P0,#80H;ÒÆ¶¯¹â±êÎ»ÖÃµ½µÚÒ»ÐÐ
0256 517A            418             ACALL ENABLE1
0258 22              419             RET
                     420             
0259                 421     LCD_DISP2:      
                     422     
                     423             
0259 900389          424             MOV DPTR,#table3;ËÍÊ¾Ý±í3
025C 120283          425             LCALL WRITE1
                     426             
025F 5175            427             ACALL ENABLE
0261 7580C0          428             MOV P0,#0C0H;ÒÆ¶¯¹â±êÎ»ÖÃµ½µÚ¶þÐÐ
0264 517A            429             ACALL ENABLE1
                     430             
0266 22              431             RET
                     432             
0267                 433     LCD_DISP3:      
0267 900399          434             MOV DPTR,#table2
026A 120283          435             LCALL WRITE1
                     436             
026D 5175            437             ACALL ENABLE
026F 758080          438             MOV P0,#80H;ÒÆ¶¯¹â±êÎ»ÖÃµ½µÚÒ»ÐÐ
0272 517A            439             ACALL ENABLE1   
                     440     
0274 22              441             RET
                     442     
0275                 443     ENABLE:
0275 C2A0            444                CLR RS
0277 C2A1            445                CLR RW
0279 22              446                RET
027A                 447     ENABLE1:
027A D2A2            448                SETB E
027C 519D            449                ACALL DELAY
027E C2A2            450                CLR E
0280 519D            451                ACALL DELAY
0282 22              452                RET
                     453                
A51 MACRO ASSEMBLER  PIANO                                                                12/23/2023 04:26:33 PAGE     8

0283                 454     WRITE1: ;Ð´Ê¾Ý
0283 7900            455         MOV R1,#00h
0285                 456     A1:
0285 E9              457         MOV A,R1
0286 93              458         MOVC A,@A+DPTR
0287 518E            459         ACALL WRITE2
0289 09              460         INC R1
028A B400F8          461         CJNE A,#00h,A1
028D 22              462         RET
                     463             
028E                 464     WRITE2:
028E D2A0            465             SETB RS
0290 C2A1            466         CLR RW
0292 F580            467         MOV P0,A
0294 D2A2            468             SETB E
0296 519D            469             ACALL DELAY
0298 C2A2            470         CLR E
029A 519D            471         ACALL DELAY
                     472        
029C 22              473         RET
                     474     
029D                 475     DELAY:          ;
029D 7AFF            476                 MOV  R2, #255       
029F                 477     LOOP2:  
                     478     
029F 00              479                     NOP             
02A0 00              480                     NOP
02A1 00              481                                     NOP             
02A2 00              482                     NOP
02A3 DAFA            483                     DJNZ  R2, LOOP2 
02A5 22              484                     RET
                     485                     
                     486      
02A6                 487     KEY_SCAN:               
02A6 00              488                     NOP
02A7 758500          489                     MOV P5, #00000000B
02AA 75843F          490                     MOV P4, #00111111B
02AD E584            491                     MOV A, P4
02AF B43F03          492                     CJNE A, #00111111B, HKVAL       ;È·ÈÏÓÐ¼ü°´ÏÂ£¬½øÈëÅÐ¶Ï
02B2 020106          493                     LJMP MAIN_LOOP
                     494                     
02B5 743F            495     HKVAL:  MOV A, #00111111B
02B7 F584            496                     MOV P4,A
02B9 7400            497                     MOV A, #00000000B
02BB F585            498                     MOV P5,A
02BD 00              499                     NOP
02BE E584            500                     MOV A, P4                       ;ÑéÖ¤ÐÐ
02C0 543F            501                     ANL A, #00111111B
02C2 30E011          502                     JNB ACC.0, H1           ;µÚÒ»ÐÐ£¬µÈÓÚ0¾ÍÌø×ª
02C5 30E113          503                     JNB ACC.1, H2
02C8 30E215          504                     JNB ACC.2, H3
02CB 30E317          505                     JNB ACC.3, H4
02CE 30E419          506                     JNB ACC.4, H5
02D1 30E51B          507                     JNB ACC.5, H6           
02D4 80DF            508                     SJMP HKVAL
                     509                     
02D6 75F000          510     H1:             MOV B, #0     
02D9 8019            511                     SJMP LKVAL
02DB 75F001          512     H2:             MOV B, #1
02DE 8014            513                     SJMP LKVAL      
02E0 75F002          514     H3:             MOV B, #2
02E3 800F            515                     SJMP LKVAL
02E5 75F003          516     H4:             MOV B, #3
02E8 800A            517                     SJMP LKVAL
02EA 75F004          518     H5:             MOV B, #4
02ED 8005            519                     SJMP LKVAL
A51 MACRO ASSEMBLER  PIANO                                                                12/23/2023 04:26:33 PAGE     9

02EF 75F005          520     H6:             MOV B, #5
02F2 8000            521                     SJMP LKVAL              
                     522     
                     523     
02F4 74C0            524     LKVAL:  MOV A, #11000000B       ;ÑéÖ¤ÁÐ
02F6 F584            525                     MOV P4, A
02F8 74FF            526                     MOV A, #11111111B       ;ÑéÖ¤ÁÐ
02FA F585            527                     MOV P5, A
02FC 00              528                     NOP
02FD E584            529                     MOV A, P4
02FF 54C0            530                     ANL A, #11000000B
0301 30E615          531                     JNB ACC.6, L1           ;µÚÒ»ÁÐ
0304 30E716          532                     JNB ACC.7, L2           ;µÚ¶þÁÐ 
0307 E585            533                     MOV A, P5
0309 54FF            534                     ANL A, #11111111B
030B 30E013          535                     JNB ACC.0, L3           ;µÚÈÁÐ
030E 30E114          536                     JNB ACC.1, L4           ;µÚËÄÁÐ 
0311 30E215          537                     JNB ACC.2, L5           ;µÚÎåÁÐ
0314 30E316          538                     JNB ACC.3, L6           ;µÚÁùÁÐ
                     539     
                     540     
                     541                     
0317 80DB            542                     SJMP LKVAL
                     543                     
0319 7C00            544     L1:             MOV R4, #0
031B 8014            545                     SJMP SKVAL
031D 7C01            546     L2:             MOV R4, #1
031F 8010            547                     SJMP SKVAL
0321 7C02            548     L3:             MOV R4, #2
0323 800C            549                     SJMP SKVAL
0325 7C03            550     L4:             MOV R4, #3
0327 8008            551                     SJMP SKVAL
0329 7C04            552     L5:             MOV R4, #4
032B 8004            553                     SJMP SKVAL
032D 7C05            554     L6:             MOV R4, #5
032F 8000            555                     SJMP SKVAL
                     556                     
0331 7406            557     SKVAL:  MOV A, #6
0333 A4              558                     MUL AB
0334 2C              559                     ADD A, R4 ;¼ÆËã¶ÔÓ¦²é±íÆ«ÒÆÁ¿
0335 F57A            560                     MOV 7AH, A                   ;7AHÔÝÊ±´æ·ÅAÖÐ¶ÎÂë
                     561                     
                     562     ;SONGSHOU:                         ;ËÉÊÖ¼ì²â£¬Ì§ÊÖÏÔÊ¾
                     563     ;               MOV P5, #00000000B
                     564     ;               MOV P4, #00111111B
                     565     ;               MOV A, P4
                     566     ;               CJNE A, #00111111B,SONGSHOU
                     567     ;               MOV A, 7AH
                     568                     
0337 22              569                     RET
                     570     
0338                 571     INT_T0:
                     572                             
0338 85318C          573                             MOV TH0,STH0          ; T0ÖÐ¶Ï·þÎñ³ÌÐò
033B 85328A          574                MOV TL0,STL0          ;
033E B2A3            575                CPL P2.3          ; Êä³ö·½²¨
0340 32              576                RETI          ;
                     577                        
0341 F117            578     TABLE:     DW 61719,61926,62135,62321,62506,62671          
0343 F1E6                    
0345 F2B7                    
0347 F371                    
0349 F42A                    
034B F4CF                    
034D F571            579                DW 62833,62985,63126,63263,63390,63512          
034F F609                    
A51 MACRO ASSEMBLER  PIANO                                                                12/23/2023 04:26:33 PAGE    10

0351 F696                    
0353 F71F                    
0355 F79E                    
0357 F818                    
0359 F888            580                DW 63624,63731,63832,63928,64019,64103          
035B F8F3                    
035D F958                    
035F F9B8                    
0361 FA13                    
0363 FA67                    
0365 FAB9            581                DW 64185,64260,64333,64400,64463,64524
0367 FB04                    
0369 FB4D                    
036B FB90                    
036D FBCF                    
036F FC0C                    
0371 FC44            582                             DW 64580,64634,64685,64733,64777,64820          
0373 FC7A                    
0375 FCAD                    
0377 FCDD                    
0379 FD09                    
037B FD34                    
037D FD5C            583                DW 64860,64898,64934,64968,65000,65030
037F FD82                    
0381 FDA6                    
0383 FDC8                    
0385 FDE8                    
0387 FE06                    
                     584                                                     ; ¸ß1£¬¸ß2£¬¸ß3£¬¸ß4                    
                     585                             ; ¸ß1£¬¸ß2£¬¸ß3£¬¸ß4
                     586     
                     587     
                     588     
                     589     
                     590     
                     591     
0389 46726571        592     table3: DB 46H,72H,65H,71H,75H,65H,6EH,63H,79H,3AH,31H,30H,30H,48H,7AH,00H;     Frequency:1
                             00Hz
038D 75656E63                
0391 793A3130                
0395 30487A00                
0399 416D706C        593     table2: DB 41h,6dh,70h,6ch,69h,74h,75H,64H,65H,3Ah,20H,35H,56H,00H;                     Amp
                             litude: 5V¿Õ¸ñ
039D 69747564                
03A1 653A2035                
03A5 5600                    
                     594     
                     595     
                     596     
                     597     
                     598     
                     599     
                     600     
                     601     
                     602     ; Peripheral specific initialization functions,
                     603     ; Called from the Init_Device label
03A7                 604     Reset_Sources_Init:
03A7 75FFDE          605         mov  WDTCN,     #0DEh
03AA 75FFAD          606         mov  WDTCN,     #0ADh
03AD 22              607         ret
                     608     
03AE                 609     Timer_Init:
03AE 758E18          610         mov  CKCON,     #018h
03B1 758911          611         mov  TMOD,      #011h
03B4 22              612         ret
                     613     
A51 MACRO ASSEMBLER  PIANO                                                                12/23/2023 04:26:33 PAGE    11

03B5                 614     Port_IO_Init:
                     615         ; P0.0  -  Unassigned,  Push-Pull,  Digital
                     616         ; P0.1  -  Unassigned,  Push-Pull,  Digital
                     617         ; P0.2  -  Unassigned,  Push-Pull,  Digital
                     618         ; P0.3  -  Unassigned,  Push-Pull,  Digital
                     619         ; P0.4  -  Unassigned,  Push-Pull,  Digital
                     620         ; P0.5  -  Unassigned,  Push-Pull,  Digital
                     621         ; P0.6  -  Unassigned,  Push-Pull,  Digital
                     622         ; P0.7  -  Unassigned,  Push-Pull,  Digital
                     623     
                     624         ; P1.0  -  Unassigned,  Push-Pull,  Digital
                     625         ; P1.1  -  Unassigned,  Push-Pull,  Digital
                     626         ; P1.2  -  Unassigned,  Push-Pull,  Digital
                     627         ; P1.3  -  Unassigned,  Push-Pull,  Digital
                     628         ; P1.4  -  Unassigned,  Push-Pull,  Digital
                     629         ; P1.5  -  Unassigned,  Push-Pull,  Digital
                     630         ; P1.6  -  Unassigned,  Push-Pull,  Digital
                     631         ; P1.7  -  Unassigned,  Push-Pull,  Digital
                     632     
                     633         ; P2.0  -  Unassigned,  Push-Pull,  Digital
                     634         ; P2.1  -  Unassigned,  Push-Pull,  Digital
                     635         ; P2.2  -  Unassigned,  Push-Pull,  Digital
                     636         ; P2.3  -  Unassigned,  Push-Pull,  Digital
                     637         ; P2.4  -  Unassigned,  Push-Pull,  Digital
                     638         ; P2.5  -  Unassigned,  Push-Pull,  Digital
                     639         ; P2.6  -  Unassigned,  Push-Pull,  Digital
                     640         ; P2.7  -  Unassigned,  Push-Pull,  Digital
                     641     
                     642         ; P3.0  -  Unassigned,  Push-Pull,  Digital
                     643         ; P3.1  -  Unassigned,  Push-Pull,  Digital
                     644         ; P3.2  -  Unassigned,  Push-Pull,  Digital
                     645         ; P3.3  -  Unassigned,  Push-Pull,  Digital
                     646         ; P3.4  -  Unassigned,  Push-Pull,  Digital
                     647         ; P3.5  -  Unassigned,  Push-Pull,  Digital
                     648         ; P3.6  -  Unassigned,  Push-Pull,  Digital
                     649         ; P3.7  -  Unassigned,  Push-Pull,  Digital
                     650     
03B5 75A4FF          651         mov  P0MDOUT,   #0FFh
03B8 75A5FF          652         mov  P1MDOUT,   #0FFh
03BB 75A6FF          653         mov  P2MDOUT,   #0FFh
03BE 75A7FF          654         mov  P3MDOUT,   #0FFh
03C1 75B507          655         mov  P74OUT,    #007h
03C4 75E340          656         mov  XBR2,      #040h
03C7 22              657         ret
                     658     
03C8                 659     Interrupts_Init:
03C8 75A88F          660         mov  IE,        #08Fh
03CB 22              661         ret
                     662     
                     663     ; Initialization function for device,
                     664     ; Call Init_Device from your main program
03CC                 665     Init_Device:
03CC 1203A7          666         lcall Reset_Sources_Init
03CF 1203AE          667         lcall Timer_Init
03D2 1203B5          668         lcall Port_IO_Init
03D5 1203C8          669         lcall Interrupts_Init
03D8 22              670         ret
                     671     
                     672     END
A51 MACRO ASSEMBLER  PIANO                                                                12/23/2023 04:26:33 PAGE    12

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

A1 . . . . . . . .  C ADDR   0285H   A   
AA . . . . . . . .  B ADDR   00C0H.2 A   
AC . . . . . . . .  B ADDR   00D0H.6 A   
ACC. . . . . . . .  D ADDR   00E0H   A   
AD0BUSY. . . . . .  B ADDR   00E8H.4 A   
AD0EN. . . . . . .  B ADDR   00E8H.7 A   
AD0INT . . . . . .  B ADDR   00E8H.5 A   
AD0LJST. . . . . .  B ADDR   00E8H.0 A   
AD0STM0. . . . . .  B ADDR   00E8H.2 A   
AD0STM1. . . . . .  B ADDR   00E8H.3 A   
AD0TM. . . . . . .  B ADDR   00E8H.6 A   
AD0WINT. . . . . .  B ADDR   00E8H.1 A   
ADC0CF . . . . . .  D ADDR   00BCH   A   
ADC0CN . . . . . .  D ADDR   00E8H   A   
ADC0GTH. . . . . .  D ADDR   00C5H   A   
ADC0GTL. . . . . .  D ADDR   00C4H   A   
ADC0H. . . . . . .  D ADDR   00BFH   A   
ADC0L. . . . . . .  D ADDR   00BEH   A   
ADC0LTH. . . . . .  D ADDR   00C7H   A   
ADC0LTL. . . . . .  D ADDR   00C6H   A   
ADC1 . . . . . . .  D ADDR   009CH   A   
ADC1CF . . . . . .  D ADDR   00ABH   A   
ADC1CN . . . . . .  D ADDR   00AAH   A   
AMX0CF . . . . . .  D ADDR   00BAH   A   
AMX0SL . . . . . .  D ADDR   00BBH   A   
AMX1SL . . . . . .  D ADDR   00ACH   A   
B. . . . . . . . .  D ADDR   00F0H   A   
BUZ. . . . . . . .  B ADDR   00A0H.3 A   
CCF0 . . . . . . .  B ADDR   00D8H.0 A   
CCF1 . . . . . . .  B ADDR   00D8H.1 A   
CCF2 . . . . . . .  B ADDR   00D8H.2 A   
CCF3 . . . . . . .  B ADDR   00D8H.3 A   
CCF4 . . . . . . .  B ADDR   00D8H.4 A   
CF . . . . . . . .  B ADDR   00D8H.7 A   
CKCON. . . . . . .  D ADDR   008EH   A   
CPRL2. . . . . . .  B ADDR   00C8H.0 A   
CPT0CN . . . . . .  D ADDR   009EH   A   
CPT1CN . . . . . .  D ADDR   009FH   A   
CR . . . . . . . .  B ADDR   00D8H.6 A   
CT2. . . . . . . .  B ADDR   00C8H.1 A   
CY . . . . . . . .  B ADDR   00D0H.7 A   
DAC0CN . . . . . .  D ADDR   00D4H   A   
DAC0H. . . . . . .  D ADDR   00D3H   A   
DAC0L. . . . . . .  D ADDR   00D2H   A   
DAC1CN . . . . . .  D ADDR   00D7H   A   
DAC1H. . . . . . .  D ADDR   00D6H   A   
DAC1L. . . . . . .  D ADDR   00D5H   A   
DELAY. . . . . . .  C ADDR   029DH   A   
DPH. . . . . . . .  D ADDR   0083H   A   
DPL. . . . . . . .  D ADDR   0082H   A   
E. . . . . . . . .  B ADDR   00A0H.2 A   
EA . . . . . . . .  B ADDR   00A8H.7 A   
EIE1 . . . . . . .  D ADDR   00E6H   A   
EIE2 . . . . . . .  D ADDR   00E7H   A   
EIP1 . . . . . . .  D ADDR   00F6H   A   
EIP2 . . . . . . .  D ADDR   00F7H   A   
EMI0CF . . . . . .  D ADDR   00A3H   A   
EMI0CN . . . . . .  D ADDR   00AFH   A   
EMI0TC . . . . . .  D ADDR   00A1H   A   
ENABLE . . . . . .  C ADDR   0275H   A   
A51 MACRO ASSEMBLER  PIANO                                                                12/23/2023 04:26:33 PAGE    13

ENABLE1. . . . . .  C ADDR   027AH   A   
ENSMB. . . . . . .  B ADDR   00C0H.6 A   
ES . . . . . . . .  B ADDR   00A8H.4 A   
ET0. . . . . . . .  B ADDR   00A8H.1 A   
ET1. . . . . . . .  B ADDR   00A8H.3 A   
ET2. . . . . . . .  B ADDR   00A8H.5 A   
EX0. . . . . . . .  B ADDR   00A8H.0 A   
EX1. . . . . . . .  B ADDR   00A8H.2 A   
EXEN2. . . . . . .  B ADDR   00C8H.3 A   
EXF2 . . . . . . .  B ADDR   00C8H.6 A   
F0 . . . . . . . .  B ADDR   00D0H.5 A   
F1 . . . . . . . .  B ADDR   00D0H.1 A   
FLACL. . . . . . .  D ADDR   00B7H   A   
FLSCL. . . . . . .  D ADDR   00B6H   A   
H1 . . . . . . . .  C ADDR   02D6H   A   
H2 . . . . . . . .  C ADDR   02DBH   A   
H3 . . . . . . . .  C ADDR   02E0H   A   
H4 . . . . . . . .  C ADDR   02E5H   A   
H5 . . . . . . . .  C ADDR   02EAH   A   
H6 . . . . . . . .  C ADDR   02EFH   A   
HKVAL. . . . . . .  C ADDR   02B5H   A   
IE . . . . . . . .  D ADDR   00A8H   A   
IE0. . . . . . . .  B ADDR   0088H.1 A   
IE1. . . . . . . .  B ADDR   0088H.3 A   
INIT_DEVICE. . . .  C ADDR   03CCH   A   
INTERRUPTS_INIT. .  C ADDR   03C8H   A   
INT_T0 . . . . . .  C ADDR   0338H   A   
IP . . . . . . . .  D ADDR   00B8H   A   
IT0. . . . . . . .  B ADDR   0088H.0 A   
IT1. . . . . . . .  B ADDR   0088H.2 A   
KEYVAL_ADDRESS . .  N NUMB   007AH   A   
KEY_SCAN . . . . .  C ADDR   02A6H   A   
L1 . . . . . . . .  C ADDR   0319H   A   
L2 . . . . . . . .  C ADDR   031DH   A   
L3 . . . . . . . .  C ADDR   0321H   A   
L4 . . . . . . . .  C ADDR   0325H   A   
L5 . . . . . . . .  C ADDR   0329H   A   
L6 . . . . . . . .  C ADDR   032DH   A   
LCD_DISP0. . . . .  C ADDR   023DH   A   
LCD_DISP1. . . . .  C ADDR   024BH   A   
LCD_DISP2. . . . .  C ADDR   0259H   A   
LCD_DISP3. . . . .  C ADDR   0267H   A   
LCD_INIT . . . . .  C ADDR   0217H   A   
LKVAL. . . . . . .  C ADDR   02F4H   A   
LOOP2. . . . . . .  C ADDR   029FH   A   
MAIN . . . . . . .  C ADDR   0100H   A   
MAIN_LOOP. . . . .  C ADDR   0106H   A   
MODF . . . . . . .  B ADDR   00F8H.5 A   
MSTEN. . . . . . .  B ADDR   00F8H.1 A   
NK1. . . . . . . .  C ADDR   0114H   A   
NK10 . . . . . . .  C ADDR   014AH   A   
NK11 . . . . . . .  C ADDR   0150H   A   
NK12 . . . . . . .  C ADDR   0156H   A   
NK13 . . . . . . .  C ADDR   015CH   A   
NK14 . . . . . . .  C ADDR   0162H   A   
NK15 . . . . . . .  C ADDR   0168H   A   
NK16 . . . . . . .  C ADDR   016EH   A   
NK17 . . . . . . .  C ADDR   0174H   A   
NK18 . . . . . . .  C ADDR   017AH   A   
NK19 . . . . . . .  C ADDR   0180H   A   
NK2. . . . . . . .  C ADDR   011AH   A   
NK20 . . . . . . .  C ADDR   0186H   A   
NK21 . . . . . . .  C ADDR   018CH   A   
NK22 . . . . . . .  C ADDR   0192H   A   
NK23 . . . . . . .  C ADDR   0198H   A   
NK24 . . . . . . .  C ADDR   019EH   A   
A51 MACRO ASSEMBLER  PIANO                                                                12/23/2023 04:26:33 PAGE    14

NK25 . . . . . . .  C ADDR   01A4H   A   
NK26 . . . . . . .  C ADDR   01AAH   A   
NK27 . . . . . . .  C ADDR   01B0H   A   
NK28 . . . . . . .  C ADDR   01B6H   A   
NK29 . . . . . . .  C ADDR   01BCH   A   
NK3. . . . . . . .  C ADDR   0120H   A   
NK30 . . . . . . .  C ADDR   01C2H   A   
NK31 . . . . . . .  C ADDR   01C8H   A   
NK32 . . . . . . .  C ADDR   01CEH   A   
NK33 . . . . . . .  C ADDR   01D4H   A   
NK34 . . . . . . .  C ADDR   01DAH   A   
NK35 . . . . . . .  C ADDR   01E0H   A   
NK36 . . . . . . .  C ADDR   01E6H   A   
NK4. . . . . . . .  C ADDR   0126H   A   
NK5. . . . . . . .  C ADDR   012CH   A   
NK6. . . . . . . .  C ADDR   0132H   A   
NK7. . . . . . . .  C ADDR   0138H   A   
NK8. . . . . . . .  C ADDR   013EH   A   
NK9. . . . . . . .  C ADDR   0144H   A   
OSCICN . . . . . .  D ADDR   00B2H   A   
OSCXCN . . . . . .  D ADDR   00B1H   A   
OV . . . . . . . .  B ADDR   00D0H.2 A   
P. . . . . . . . .  B ADDR   00D0H.0 A   
P0 . . . . . . . .  D ADDR   0080H   A   
P0MDOUT. . . . . .  D ADDR   00A4H   A   
P1 . . . . . . . .  D ADDR   0090H   A   
P1MDIN . . . . . .  D ADDR   00BDH   A   
P1MDOUT. . . . . .  D ADDR   00A5H   A   
P2 . . . . . . . .  D ADDR   00A0H   A   
P2MDOUT. . . . . .  D ADDR   00A6H   A   
P3 . . . . . . . .  D ADDR   00B0H   A   
P3IF . . . . . . .  D ADDR   00ADH   A   
P3MDOUT. . . . . .  D ADDR   00A7H   A   
P4 . . . . . . . .  D ADDR   0084H   A   
P5 . . . . . . . .  D ADDR   0085H   A   
P6 . . . . . . . .  D ADDR   0086H   A   
P7 . . . . . . . .  D ADDR   0096H   A   
P74OUT . . . . . .  D ADDR   00B5H   A   
PCA0CN . . . . . .  D ADDR   00D8H   A   
PCA0CPH0 . . . . .  D ADDR   00FAH   A   
PCA0CPH1 . . . . .  D ADDR   00FBH   A   
PCA0CPH2 . . . . .  D ADDR   00FCH   A   
PCA0CPH3 . . . . .  D ADDR   00FDH   A   
PCA0CPH4 . . . . .  D ADDR   00FEH   A   
PCA0CPL0 . . . . .  D ADDR   00EAH   A   
PCA0CPL1 . . . . .  D ADDR   00EBH   A   
PCA0CPL2 . . . . .  D ADDR   00ECH   A   
PCA0CPL3 . . . . .  D ADDR   00EDH   A   
PCA0CPL4 . . . . .  D ADDR   00EEH   A   
PCA0CPM0 . . . . .  D ADDR   00DAH   A   
PCA0CPM1 . . . . .  D ADDR   00DBH   A   
PCA0CPM2 . . . . .  D ADDR   00DCH   A   
PCA0CPM3 . . . . .  D ADDR   00DDH   A   
PCA0CPM4 . . . . .  D ADDR   00DEH   A   
PCA0H. . . . . . .  D ADDR   00F9H   A   
PCA0L. . . . . . .  D ADDR   00E9H   A   
PCA0MD . . . . . .  D ADDR   00D9H   A   
PCON . . . . . . .  D ADDR   0087H   A   
PORT_IO_INIT . . .  C ADDR   03B5H   A   
PS . . . . . . . .  B ADDR   00B8H.4 A   
PSCTL. . . . . . .  D ADDR   008FH   A   
PSW. . . . . . . .  D ADDR   00D0H   A   
PT0. . . . . . . .  B ADDR   00B8H.1 A   
PT1. . . . . . . .  B ADDR   00B8H.3 A   
PT2. . . . . . . .  B ADDR   00B8H.5 A   
PX0. . . . . . . .  B ADDR   00B8H.0 A   
A51 MACRO ASSEMBLER  PIANO                                                                12/23/2023 04:26:33 PAGE    15

PX1. . . . . . . .  B ADDR   00B8H.2 A   
RB8. . . . . . . .  B ADDR   0098H.2 A   
RCAP2H . . . . . .  D ADDR   00CBH   A   
RCAP2L . . . . . .  D ADDR   00CAH   A   
RCAP4H . . . . . .  D ADDR   00E5H   A   
RCAP4L . . . . . .  D ADDR   00E4H   A   
RCLK . . . . . . .  B ADDR   00C8H.5 A   
REF0CN . . . . . .  D ADDR   00D1H   A   
REN. . . . . . . .  B ADDR   0098H.4 A   
RESET_SOURCES_INIT  C ADDR   03A7H   A   
RI . . . . . . . .  B ADDR   0098H.0 A   
RS . . . . . . . .  B ADDR   00A0H.0 A   
RS0. . . . . . . .  B ADDR   00D0H.3 A   
RS1. . . . . . . .  B ADDR   00D0H.4 A   
RSTSRC . . . . . .  D ADDR   00EFH   A   
RW . . . . . . . .  B ADDR   00A0H.1 A   
RXOVRN . . . . . .  B ADDR   00F8H.4 A   
SADDR0 . . . . . .  D ADDR   00A9H   A   
SADDR1 . . . . . .  D ADDR   00F3H   A   
SADEN0 . . . . . .  D ADDR   00B9H   A   
SADEN1 . . . . . .  D ADDR   00AEH   A   
SBUF0. . . . . . .  D ADDR   0099H   A   
SBUF1. . . . . . .  D ADDR   00F2H   A   
SCON0. . . . . . .  D ADDR   0098H   A   
SCON1. . . . . . .  D ADDR   00F1H   A   
SI . . . . . . . .  B ADDR   00C0H.3 A   
SKVAL. . . . . . .  C ADDR   0331H   A   
SLVSEL . . . . . .  B ADDR   00F8H.2 A   
SM0. . . . . . . .  B ADDR   0098H.7 A   
SM1. . . . . . . .  B ADDR   0098H.6 A   
SM2. . . . . . . .  B ADDR   0098H.5 A   
SMB0ADR. . . . . .  D ADDR   00C3H   A   
SMB0CN . . . . . .  D ADDR   00C0H   A   
SMB0CR . . . . . .  D ADDR   00CFH   A   
SMB0DAT. . . . . .  D ADDR   00C2H   A   
SMB0STA. . . . . .  D ADDR   00C1H   A   
SMBFTE . . . . . .  B ADDR   00C0H.1 A   
SMBTOE . . . . . .  B ADDR   00C0H.0 A   
SP . . . . . . . .  D ADDR   0081H   A   
SPI0CFG. . . . . .  D ADDR   009AH   A   
SPI0CKR. . . . . .  D ADDR   009DH   A   
SPI0CN . . . . . .  D ADDR   00F8H   A   
SPI0DAT. . . . . .  D ADDR   009BH   A   
SPIEN. . . . . . .  B ADDR   00F8H.0 A   
SPIF . . . . . . .  B ADDR   00F8H.7 A   
STA. . . . . . . .  B ADDR   00C0H.5 A   
START_PIANO. . . .  C ADDR   01EAH   A   
STH0 . . . . . . .  N NUMB   0031H   A   
STL0 . . . . . . .  N NUMB   0032H   A   
STO. . . . . . . .  B ADDR   00C0H.4 A   
STOP_PIANO . . . .  C ADDR   0205H   A   
T2CON. . . . . . .  D ADDR   00C8H   A   
T4CON. . . . . . .  D ADDR   00C9H   A   
TABLE. . . . . . .  C ADDR   0341H   A   
TABLE2 . . . . . .  C ADDR   0399H   A   
TABLE3 . . . . . .  C ADDR   0389H   A   
TB8. . . . . . . .  B ADDR   0098H.3 A   
TCLK . . . . . . .  B ADDR   00C8H.4 A   
TCON . . . . . . .  D ADDR   0088H   A   
TEMP . . . . . . .  N NUMB   0033H   A   
TF0. . . . . . . .  B ADDR   0088H.5 A   
TF1. . . . . . . .  B ADDR   0088H.7 A   
TF2. . . . . . . .  B ADDR   00C8H.7 A   
TH0. . . . . . . .  D ADDR   008CH   A   
TH1. . . . . . . .  D ADDR   008DH   A   
TH2. . . . . . . .  D ADDR   00CDH   A   
A51 MACRO ASSEMBLER  PIANO                                                                12/23/2023 04:26:33 PAGE    16

TH4. . . . . . . .  D ADDR   00F5H   A   
TI . . . . . . . .  B ADDR   0098H.1 A   
TIMER_INIT . . . .  C ADDR   03AEH   A   
TL0. . . . . . . .  D ADDR   008AH   A   
TL1. . . . . . . .  D ADDR   008BH   A   
TL2. . . . . . . .  D ADDR   00CCH   A   
TL4. . . . . . . .  D ADDR   00F4H   A   
TMOD . . . . . . .  D ADDR   0089H   A   
TMR3CN . . . . . .  D ADDR   0091H   A   
TMR3H. . . . . . .  D ADDR   0095H   A   
TMR3L. . . . . . .  D ADDR   0094H   A   
TMR3RLH. . . . . .  D ADDR   0093H   A   
TMR3RLL. . . . . .  D ADDR   0092H   A   
TR0. . . . . . . .  B ADDR   0088H.4 A   
TR1. . . . . . . .  B ADDR   0088H.6 A   
TR2. . . . . . . .  B ADDR   00C8H.2 A   
TXBSY. . . . . . .  B ADDR   00F8H.3 A   
WCOL . . . . . . .  B ADDR   00F8H.6 A   
WDTCN. . . . . . .  D ADDR   00FFH   A   
WRITE1 . . . . . .  C ADDR   0283H   A   
WRITE2 . . . . . .  C ADDR   028EH   A   
XBR0 . . . . . . .  D ADDR   00E1H   A   
XBR1 . . . . . . .  D ADDR   00E2H   A   
XBR2 . . . . . . .  D ADDR   00E3H   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
