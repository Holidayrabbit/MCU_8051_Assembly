A51 MACRO ASSEMBLER  MAIN                                                                 12/24/2023 08:07:32 PAGE     1


MACRO ASSEMBLER A51 V8.2.7.0
OBJECT MODULE PLACED IN .\Objects\main.obj
ASSEMBLER INVOKED BY: D:\Software\Keil_v5\C51\BIN\A51.EXE main.asm NOMOD51 SET(SMALL) DEBUG PRINT(.\Listings\main.lst) O
                      BJECT(.\Objects\main.obj) EP

LOC  OBJ            LINE     SOURCE

                       1     ;------------------------------------
                       2     ;-  Generated Initialization File  --
                       3     ;------------------------------------
                       4     
                       5     ;$include (C8051F020.inc)
                +1     6     ;-----------------------------------------------------------------------------
                +1     7     ;       
                +1     8     ;       
                +1     9     ;
                +1    10     ;
                +1    11     ;       FILE NAME       : C8051F020.INC 
                +1    12     ;       TARGET MCUs     : C8051F020, 'F021, 'F022, 'F023 
                +1    13     ;       DESCRIPTION     : Register/bit definitions for the C8051F02x product family.  
                +1    14     ;
                +1    15     ;       REVISION 1.0    
                +1    16     ;
                +1    17     ;-----------------------------------------------------------------------------
                +1    18     ;REGISTER DEFINITIONS
                +1    19     ;
  0080          +1    20     P0       DATA  080H   ; PORT 0
  0081          +1    21     SP       DATA  081H   ; STACK POINTER
  0082          +1    22     DPL      DATA  082H   ; DATA POINTER - LOW BYTE
  0083          +1    23     DPH      DATA  083H   ; DATA POINTER - HIGH BYTE
  0084          +1    24     P4       DATA  084H   ; PORT 4
  0085          +1    25     P5       DATA  085H   ; PORT 5
  0086          +1    26     P6       DATA  086H   ; PORT 6
  0087          +1    27     PCON     DATA  087H   ; POWER CONTROL
  0088          +1    28     TCON     DATA  088H   ; TIMER CONTROL
  0089          +1    29     TMOD     DATA  089H   ; TIMER MODE
  008A          +1    30     TL0      DATA  08AH   ; TIMER 0 - LOW BYTE
  008B          +1    31     TL1      DATA  08BH   ; TIMER 1 - LOW BYTE
  008C          +1    32     TH0      DATA  08CH   ; TIMER 0 - HIGH BYTE
  008D          +1    33     TH1      DATA  08DH   ; TIMER 1 - HIGH BYTE
  008E          +1    34     CKCON    DATA  08EH   ; CLOCK CONTROL
  008F          +1    35     PSCTL    DATA  08FH   ; PROGRAM STORE R/W CONTROL
  0090          +1    36     P1       DATA  090H   ; PORT 1
  0091          +1    37     TMR3CN   DATA  091H   ; TIMER 3 CONTROL
  0092          +1    38     TMR3RLL  DATA  092H   ; TIMER 3 RELOAD REGISTER - LOW BYTE
  0093          +1    39     TMR3RLH  DATA  093H   ; TIMER 3 RELOAD REGISTER - HIGH BYTE
  0094          +1    40     TMR3L    DATA  094H   ; TIMER 3 - LOW BYTE
  0095          +1    41     TMR3H    DATA  095H   ; TIMER 3 - HIGH BYTE
  0096          +1    42     P7       DATA  096H   ; PORT 7
  0098          +1    43     SCON0    DATA  098H   ; SERIAL PORT 0 CONTROL
  0099          +1    44     SBUF0    DATA  099H   ; SERIAL PORT 0 BUFFER
  009A          +1    45     SPI0CFG  DATA  09AH   ; SERIAL PERIPHERAL INTERFACE 0 CONFIGURATION
  009B          +1    46     SPI0DAT  DATA  09BH   ; SERIAL PERIPHERAL INTERFACE 0 DATA
  009C          +1    47     ADC1     DATA  09CH   ; ADC 1 DATA
  009D          +1    48     SPI0CKR  DATA  09DH   ; SERIAL PERIPHERAL INTERFACE 0 CLOCK RATE CONTROL
  009E          +1    49     CPT0CN   DATA  09EH   ; COMPARATOR 0 CONTROL
  009F          +1    50     CPT1CN   DATA  09FH   ; COMPARATOR 1 CONTROL 
  00A0          +1    51     P2       DATA  0A0H   ; PORT 2
  00A1          +1    52     EMI0TC   DATA  0A1H   ; EMIF TIMING CONTROL
  00A3          +1    53     EMI0CF   DATA  0A3H   ; EXTERNAL MEMORY INTERFACE (EMIF) CONFIGURATION
  00A4          +1    54     P0MDOUT  DATA  0A4H   ; PORT 0 OUTPUT MODE CONFIGURATION
  00A5          +1    55     P1MDOUT  DATA  0A5H   ; PORT 1 OUTPUT MODE CONFIGURATION
  00A6          +1    56     P2MDOUT  DATA  0A6H   ; PORT 2 OUTPUT MODE CONFIGURATION
  00A7          +1    57     P3MDOUT  DATA  0A7H   ; PORT 3 OUTPUT MODE CONFIGURATION
A51 MACRO ASSEMBLER  MAIN                                                                 12/24/2023 08:07:32 PAGE     2

  00A8          +1    58     IE       DATA  0A8H   ; INTERRUPT ENABLE
  00A9          +1    59     SADDR0   DATA  0A9H   ; SERIAL PORT 0 SLAVE ADDRESS
  00AA          +1    60     ADC1CN  DATA  0AAH   ; ADC 1 CONTROL
  00AB          +1    61     ADC1CF   DATA  0ABH   ; ADC 1 ANALOG MUX CONFIGURATION
  00AC          +1    62     AMX1SL   DATA  0ACH   ; ADC 1 ANALOG MUX CHANNEL SELECT
  00AD          +1    63     P3IF     DATA  0ADH   ; PORT 3 EXTERNAL INTERRUPT FLAGS
  00AE          +1    64     SADEN1   DATA  0AEH   ; SERIAL PORT 1 SLAVE ADDRESS MASK
  00AF          +1    65     EMI0CN   DATA  0AFH   ; EXTERNAL MEMORY INTERFACE CONTROL
  00B0          +1    66     P3       DATA  0B0H   ; PORT 3
  00B1          +1    67     OSCXCN   DATA  0B1H   ; EXTERNAL OSCILLATOR CONTROL
  00B2          +1    68     OSCICN   DATA  0B2H   ; INTERNAL OSCILLATOR CONTROL
  00B5          +1    69     P74OUT   DATA  0B5H   ; PORTS 4 - 7 OUTPUT MODE
  00B6          +1    70     FLSCL    DATA  0B6H   ; FLASH MEMORY TIMING PRESCALER
  00B7          +1    71     FLACL    DATA  0B7H   ; FLASH ACESS LIMIT 
  00B8          +1    72     IP       DATA  0B8H   ; INTERRUPT PRIORITY
  00B9          +1    73     SADEN0   DATA  0B9H   ; SERIAL PORT 0 SLAVE ADDRESS MASK
  00BA          +1    74     AMX0CF   DATA  0BAH   ; ADC 0 MUX CONFIGURATION
  00BB          +1    75     AMX0SL   DATA  0BBH   ; ADC 0 MUX CHANNEL SELECTION
  00BC          +1    76     ADC0CF   DATA  0BCH   ; ADC 0 CONFIGURATION
  00BD          +1    77     P1MDIN   DATA  0BDH   ; PORT 1 INPUT MODE
  00BE          +1    78     ADC0L    DATA  0BEH   ; ADC 0 DATA - LOW BYTE
  00BF          +1    79     ADC0H    DATA  0BFH   ; ADC 0 DATA - HIGH BYTE 
  00C0          +1    80     SMB0CN   DATA  0C0H   ; SMBUS 0 CONTROL
  00C1          +1    81     SMB0STA  DATA  0C1H   ; SMBUS 0 STATUS
  00C2          +1    82     SMB0DAT  DATA  0C2H   ; SMBUS 0 DATA 
  00C3          +1    83     SMB0ADR  DATA  0C3H   ; SMBUS 0 SLAVE ADDRESS
  00C4          +1    84     ADC0GTL  DATA  0C4H   ; ADC 0 GREATER-THAN REGISTER - LOW BYTE
  00C5          +1    85     ADC0GTH  DATA  0C5H   ; ADC 0 GREATER-THAN REGISTER - HIGH BYTE
  00C6          +1    86     ADC0LTL  DATA  0C6H   ; ADC 0 LESS-THAN REGISTER - LOW BYTE
  00C7          +1    87     ADC0LTH  DATA  0C7H   ; ADC 0 LESS-THAN REGISTER - HIGH BYTE
  00C8          +1    88     T2CON    DATA  0C8H   ; TIMER 2 CONTROL
  00C9          +1    89     T4CON    DATA  0C9H   ; TIMER 4 CONTROL
  00CA          +1    90     RCAP2L   DATA  0CAH   ; TIMER 2 CAPTURE REGISTER - LOW BYTE
  00CB          +1    91     RCAP2H   DATA  0CBH   ; TIMER 2 CAPTURE REGISTER - HIGH BYTE
  00CC          +1    92     TL2      DATA  0CCH   ; TIMER 2 - LOW BYTE
  00CD          +1    93     TH2      DATA  0CDH   ; TIMER 2 - HIGH BYTE
  00CF          +1    94     SMB0CR   DATA  0CFH   ; SMBUS 0 CLOCK RATE
  00D0          +1    95     PSW      DATA  0D0H   ; PROGRAM STATUS WORD
  00D1          +1    96     REF0CN   DATA  0D1H   ; VOLTAGE REFERENCE 0 CONTROL
  00D2          +1    97     DAC0L    DATA  0D2H   ; DAC 0 REGISTER - LOW BYTE
  00D3          +1    98     DAC0H    DATA  0D3H   ; DAC 0 REGISTER - HIGH BYTE
  00D4          +1    99     DAC0CN   DATA  0D4H   ; DAC 0 CONTROL
  00D5          +1   100     DAC1L    DATA  0D5H   ; DAC 1 REGISTER - LOW BYTE
  00D6          +1   101     DAC1H    DATA  0D6H   ; DAC 1 REGISTER - HIGH BYTE
  00D7          +1   102     DAC1CN   DATA  0D7H   ; DAC 1 CONTROL
  00D8          +1   103     PCA0CN   DATA  0D8H   ; PCA 0 COUNTER CONTROL
  00D9          +1   104     PCA0MD   DATA  0D9H   ; PCA 0 COUNTER MODE
  00DA          +1   105     PCA0CPM0 DATA  0DAH   ; CONTROL REGISTER FOR PCA 0 MODULE 0
  00DB          +1   106     PCA0CPM1 DATA  0DBH   ; CONTROL REGISTER FOR PCA 0 MODULE 1
  00DC          +1   107     PCA0CPM2 DATA  0DCH   ; CONTROL REGISTER FOR PCA 0 MODULE 2
  00DD          +1   108     PCA0CPM3 DATA  0DDH   ; CONTROL REGISTER FOR PCA 0 MODULE 3
  00DE          +1   109     PCA0CPM4 DATA  0DEH   ; CONTROL REGISTER FOR PCA 0 MODULE 4
  00E0          +1   110     ACC      DATA  0E0H   ; ACCUMULATOR
  00E1          +1   111     XBR0     DATA  0E1H   ; DIGITAL CROSSBAR CONFIGURATION REGISTER 0
  00E2          +1   112     XBR1     DATA  0E2H   ; DIGITAL CROSSBAR CONFIGURATION REGISTER 1
  00E3          +1   113     XBR2     DATA  0E3H   ; DIGITAL CROSSBAR CONFIGURATION REGISTER 2
  00E4          +1   114     RCAP4L   DATA  0E4H   ; TIMER 4 CAPTURE REGISTER - LOW BYTE
  00E5          +1   115     RCAP4H   DATA  0E5H   ; TIMER 4 CAPTURE REGISTER - HIGH BYTE
  00E6          +1   116     EIE1     DATA  0E6H   ; EXTERNAL INTERRUPT ENABLE 1
  00E7          +1   117     EIE2     DATA  0E7H   ; EXTERNAL INTERRUPT ENABLE 2
  00E8          +1   118     ADC0CN   DATA  0E8H   ; ADC 0 CONTROL
  00E9          +1   119     PCA0L    DATA  0E9H   ; PCA 0 TIMER - LOW BYTE
  00EA          +1   120     PCA0CPL0 DATA  0EAH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 0 - LOW BYTE
  00EB          +1   121     PCA0CPL1 DATA  0EBH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 1 - LOW BYTE
  00EC          +1   122     PCA0CPL2 DATA  0ECH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 2 - LOW BYTE
  00ED          +1   123     PCA0CPL3 DATA  0EDH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 3 - LOW BYTE
A51 MACRO ASSEMBLER  MAIN                                                                 12/24/2023 08:07:32 PAGE     3

  00EE          +1   124     PCA0CPL4 DATA  0EEH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 4 - LOW BYTE
  00EF          +1   125     RSTSRC   DATA  0EFH   ; RESET SOURCE 
  00F0          +1   126     B        DATA  0F0H   ; B REGISTER
  00F1          +1   127     SCON1    DATA  0F1H   ; SERIAL PORT 1 CONTROL
  00F2          +1   128     SBUF1    DATA  0F2H   ; SERAIL PORT 1 DATA
  00F3          +1   129     SADDR1   DATA  0F3H   ; SERAIL PORT 1 
  00F4          +1   130     TL4      DATA  0F4H   ; TIMER 4 DATA - LOW BYTE
  00F5          +1   131     TH4      DATA  0F5H   ; TIMER 4 DATA - HIGH BYTE
  00F6          +1   132     EIP1     DATA  0F6H   ; EXTERNAL INTERRUPT PRIORITY REGISTER 1
  00F7          +1   133     EIP2     DATA  0F7H   ; EXTERNAL INTERRUPT PRIORITY REGISTER 2
  00F8          +1   134     SPI0CN   DATA  0F8H   ; SERIAL PERIPHERAL INTERFACE 0 CONTROL 
  00F9          +1   135     PCA0H    DATA  0F9H   ; PCA 0 TIMER - HIGH BYTE
  00FA          +1   136     PCA0CPH0 DATA  0FAH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 0 - HIGH BYTE
  00FB          +1   137     PCA0CPH1 DATA  0FBH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 1 - HIGH BYTE
  00FC          +1   138     PCA0CPH2 DATA  0FCH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 2 - HIGH BYTE
  00FD          +1   139     PCA0CPH3 DATA  0FDH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 3 - HIGH BYTE
  00FE          +1   140     PCA0CPH4 DATA  0FEH   ; CAPTURE/COMPARE REGISTER FOR PCA 0 MODULE 4 - HIGH BYTE
  00FF          +1   141     WDTCN    DATA  0FFH   ; WATCHDOG TIMER CONTROL 
                +1   142     ;
                +1   143     ;------------------------------------------------------------------------------
                +1   144     ;BIT DEFINITIONS
                +1   145     ;
                +1   146     ; TCON 88H
  0088          +1   147     IT0      BIT   TCON.0 ; EXT. INTERRUPT 0 TYPE
  0089          +1   148     IE0      BIT   TCON.1 ; EXT. INTERRUPT 0 EDGE FLAG
  008A          +1   149     IT1      BIT   TCON.2 ; EXT. INTERRUPT 1 TYPE
  008B          +1   150     IE1      BIT   TCON.3 ; EXT. INTERRUPT 1 EDGE FLAG
  008C          +1   151     TR0      BIT   TCON.4 ; TIMER 0 ON/OFF CONTROL
  008D          +1   152     TF0      BIT   TCON.5 ; TIMER 0 OVERFLOW FLAG
  008E          +1   153     TR1      BIT   TCON.6 ; TIMER 1 ON/OFF CONTROL
  008F          +1   154     TF1      BIT   TCON.7 ; TIMER 1 OVERFLOW FLAG
                +1   155     ;
                +1   156     ; SCON0 98H
  0098          +1   157     RI       BIT   SCON0.0 ; RECEIVE INTERRUPT FLAG
  0099          +1   158     TI       BIT   SCON0.1 ; TRANSMIT INTERRUPT FLAG
  009A          +1   159     RB8      BIT   SCON0.2 ; RECEIVE BIT 8
  009B          +1   160     TB8      BIT   SCON0.3 ; TRANSMIT BIT 8
  009C          +1   161     REN      BIT   SCON0.4 ; RECEIVE ENABLE
  009D          +1   162     SM2      BIT   SCON0.5 ; MULTIPROCESSOR COMMUNICATION ENABLE
  009E          +1   163     SM1      BIT   SCON0.6 ; SERIAL MODE CONTROL BIT 1
  009F          +1   164     SM0      BIT   SCON0.7 ; SERIAL MODE CONTROL BIT 0
                +1   165     ; 
                +1   166     ; IE A8H
  00A8          +1   167     EX0      BIT   IE.0   ; EXTERNAL INTERRUPT 0 ENABLE
  00A9          +1   168     ET0      BIT   IE.1   ; TIMER 0 INTERRUPT ENABLE
  00AA          +1   169     EX1      BIT   IE.2   ; EXTERNAL INTERRUPT 1 ENABLE
  00AB          +1   170     ET1      BIT   IE.3   ; TIMER 1 INTERRUPT ENABLE
  00AC          +1   171     ES       BIT   IE.4   ; SERIAL PORT INTERRUPT ENABLE
  00AD          +1   172     ET2      BIT   IE.5   ; TIMER 2 INTERRUPT ENABLE
  00AF          +1   173     EA       BIT   IE.7   ; GLOBAL INTERRUPT ENABLE
                +1   174     ;
                +1   175     ; IP B8H
  00B8          +1   176     PX0      BIT   IP.0   ; EXTERNAL INTERRUPT 0 PRIORITY
  00B9          +1   177     PT0      BIT   IP.1   ; TIMER 0 PRIORITY
  00BA          +1   178     PX1      BIT   IP.2   ; EXTERNAL INTERRUPT 1 PRIORITY
  00BB          +1   179     PT1      BIT   IP.3   ; TIMER 1 PRIORITY
  00BC          +1   180     PS       BIT   IP.4   ; SERIAL PORT PRIORITY
  00BD          +1   181     PT2      BIT   IP.5   ; TIMER 2 PRIORITY
                +1   182     ;
                +1   183     ; SMB0CN C0H
  00C0          +1   184     SMBTOE   BIT   SMB0CN.0 ; SMBUS 0 TIMEOUT ENABLE
  00C1          +1   185     SMBFTE   BIT   SMB0CN.1 ; SMBUS 0 FREE TIMER ENABLE
  00C2          +1   186     AA       BIT   SMB0CN.2 ; SMBUS 0 ASSERT/ACKNOWLEDGE FLAG
  00C3          +1   187     SI       BIT   SMB0CN.3 ; SMBUS 0 INTERRUPT PENDING FLAG
  00C4          +1   188     STO      BIT   SMB0CN.4 ; SMBUS 0 STOP FLAG
  00C5          +1   189     STA      BIT   SMB0CN.5 ; SMBUS 0 START FLAG
A51 MACRO ASSEMBLER  MAIN                                                                 12/24/2023 08:07:32 PAGE     4

  00C6          +1   190     ENSMB    BIT   SMB0CN.6 ; SMBUS 0 ENABLE 
                +1   191     ;
                +1   192     ; T2CON C8H
  00C8          +1   193     CPRL2    BIT   T2CON.0 ; CAPTURE OR RELOAD SELECT
  00C9          +1   194     CT2      BIT   T2CON.1 ; TIMER OR COUNTER SELECT
  00CA          +1   195     TR2      BIT   T2CON.2 ; TIMER 2 ON/OFF CONTROL
  00CB          +1   196     EXEN2    BIT   T2CON.3 ; TIMER 2 EXTERNAL ENABLE FLAG
  00CC          +1   197     TCLK     BIT   T2CON.4 ; TRANSMIT CLOCK FLAG
  00CD          +1   198     RCLK     BIT   T2CON.5 ; RECEIVE CLOCK FLAG
  00CE          +1   199     EXF2     BIT   T2CON.6 ; EXTERNAL FLAG
  00CF          +1   200     TF2      BIT   T2CON.7 ; TIMER 2 OVERFLOW FLAG
                +1   201     ;
                +1   202     ; PSW D0H
  00D0          +1   203     P        BIT   PSW.0  ; ACCUMULATOR PARITY FLAG
  00D1          +1   204     F1       BIT   PSW.1  ; USER FLAG 1
  00D2          +1   205     OV       BIT   PSW.2  ; OVERFLOW FLAG
  00D3          +1   206     RS0      BIT   PSW.3  ; REGISTER BANK SELECT 0
  00D4          +1   207     RS1      BIT   PSW.4  ; REGISTER BANK SELECT 1
  00D5          +1   208     F0       BIT   PSW.5  ; USER FLAG 0
  00D6          +1   209     AC       BIT   PSW.6  ; AUXILIARY CARRY FLAG
  00D7          +1   210     CY       BIT   PSW.7  ; CARRY FLAG
                +1   211     ;
                +1   212     ; PCA0CN D8H
  00D8          +1   213     CCF0     BIT   PCA0CN.0 ; PCA 0 MODULE 0 INTERRUPT FLAG
  00D9          +1   214     CCF1     BIT   PCA0CN.1 ; PCA 0 MODULE 1 INTERRUPT FLAG
  00DA          +1   215     CCF2     BIT   PCA0CN.2 ; PCA 0 MODULE 2 INTERRUPT FLAG
  00DB          +1   216     CCF3     BIT   PCA0CN.3 ; PCA 0 MODULE 3 INTERRUPT FLAG
  00DC          +1   217     CCF4     BIT   PCA0CN.4 ; PCA 0 MODULE 4 INTERRUPT FLAG
  00DE          +1   218     CR       BIT   PCA0CN.6 ; PCA 0 COUNTER RUN CONTROL BIT
  00DF          +1   219     CF       BIT   PCA0CN.7 ; PCA 0 COUNTER OVERFLOW FLAG
                +1   220     ;
                +1   221     ; ADC0CN E8H
  00E8          +1   222     AD0LJST  BIT   ADC0CN.0 ; ADC 0 RIGHT JUSTIFY DATA BIT
  00E9          +1   223     AD0WINT  BIT   ADC0CN.1 ; ADC 0 WINDOW COMPARE INTERRUPT FLAG
  00EA          +1   224     AD0STM0  BIT   ADC0CN.2 ; ADC 0 START OF CONVERSION MODE BIT 0
  00EB          +1   225     AD0STM1  BIT   ADC0CN.3 ; ADC 0 START OF CONVERSION MODE BIT 1
  00EC          +1   226     AD0BUSY  BIT   ADC0CN.4 ; ADC 0 BUSY FLAG
  00ED          +1   227     AD0INT   BIT   ADC0CN.5 ; ADC 0 CONVERISION COMPLETE INTERRUPT FLAG 
  00EE          +1   228     AD0TM    BIT   ADC0CN.6 ; ADC 0 TRACK MODE
  00EF          +1   229     AD0EN    BIT   ADC0CN.7 ; ADC 0 ENABLE
                +1   230     ;
                +1   231     ; SPI0CN F8H
  00F8          +1   232     SPIEN    BIT   SPI0CN.0 ; SPI 0 SPI ENABLE
  00F9          +1   233     MSTEN    BIT   SPI0CN.1 ; SPI 0 MASTER ENABLE
  00FA          +1   234     SLVSEL   BIT   SPI0CN.2 ; SPI 0 SLAVE SELECT
  00FB          +1   235     TXBSY    BIT   SPI0CN.3 ; SPI 0 TX BUSY FLAG
  00FC          +1   236     RXOVRN   BIT   SPI0CN.4 ; SPI 0 RX OVERRUN FLAG
  00FD          +1   237     MODF     BIT   SPI0CN.5 ; SPI 0 MODE FAULT FLAG
  00FE          +1   238     WCOL     BIT   SPI0CN.6 ; SPI 0 WRITE COLLISION FLAG
  00FF          +1   239     SPIF     BIT   SPI0CN.7 ; SPI 0 INTERRUPT FLAG
                     240     
                     241     
                     242     
  00A0               243     RS bit P2.0
  00A1               244     RW bit P2.1
  00A2               245     E bit P2.2      
  00A3               246     BUZ BIT P2.3
                     247     
  0029               248     MODE EQU 29H
                     249     
  0031               250     STH0 EQU 31H             ;STH0 ¶¨ÒåÎª,31H
  0032               251     STL0 EQU 32H             ;STL0 ¶¨ÒåÎª,32H       
  0033               252     STH1 EQU 33H            
  0034               253     STL1 EQU 34H
  0035               254     COUNT_T1 EQU 35H         
  0036               255     TEMP EQU 36H             ;TEMP ¶¨ÒåÎª,36H
A51 MACRO ASSEMBLER  MAIN                                                                 12/24/2023 08:07:32 PAGE     5

  007A               256     KeyVal_Address  EQU 7AH
  007B               257     KeyVal_Address1 EQU 7BH
  007C               258     KeyVal_Address2 EQU 7CH
                     259     
  0011               260     DELAY_FLAG BIT 11H
  0010               261     NEXT BIT 10H       ;¶¨Òå±êÖ¾Î»,½ÚÅÄ¿ªÊ¼Ê±ÖÃÎª1£¬½áÊøÊ±ÖÃÎª0
  0009               262     INT_FLAG BIT 09H
                     263     
                     264     
                     265     
                     266     
                     267     
                     268     
                     269             
0000                 270     ORG 0000H
0000 020100          271         LJMP MAIN
                     272             
0003                 273     ORG 0003H
0003 0203FA          274             LJMP EXINT0
                     275             
000B                 276     ORG 000BH
000B 0203FD          277             LJMP T0_Process 
                     278             
0013                 279     ORG 0013H
0013 020406          280             LJMP EXINT1
                     281             
001B                 282     ORG 001BH
001B 02040E          283             LJMP T1_Process 
                     284             
0100                 285     ORG 0100H                                          ;³ÌÐòµØÖ·
                     286     
                     287     
                     288     ;INT0_HOME:
                     289     
                     290     ;               CLR INT_FLAG
                     291     ;           MOV MODE,#0
                     292     ;               AJMP MAIN1
                     293     
                     294     
                     295     
0100                 296     MAIN:
0100 1207F1          297             LCALL Init_Device
                     298             
0103                 299     MAIN1:  
0103 12014F          300             LCALL LCD_DISP_MENU     
                     301                     
                     302                     
                     303                     
                     304     ;MAIN_LOOP:
                     305     ;       MOV DPTR, #ENTRY ; ¸³Ö¸Áî±íÈë¿ÚµØÖ·
                     306     ;       MOV A, R3                ; ¼ÆËãÆ«ÒÆÁ¿
                     307     
                     308     ;NEXT:          
                     309     ;       JMP @A+DPTR     ; É¢×ª
                     310     ;ENTRY:         
                     311     ;       LJMP MENU       ; ×ªÒÆÖ¸Áî±í: 3 ×Ö½Ú
                     312     ;       LJMP PIANO
                     313     ;       LJMP PLAYER             
                     314                     
                     315                     
                     316                     
                     317                     
                     318                     
0106                 319     MAIN_LOOP:
                     320     
                     321     ;       MOV R7,#0
A51 MACRO ASSEMBLER  MAIN                                                                 12/24/2023 08:07:32 PAGE     6

                     322             
                     323     ;       LCALL LCD_DISP_MENU
                     324             
0106 1202D0          325             LCALL KEY_SCAN1
                     326             
0109 E57B            327             MOV A, KeyVal_Address1
                     328        
010B B40002          329                             CJNE A,#0,PANDUAN1          ;¸ù¾Ý¶ÎÂëÅÐ¶ÏAµÄ¼üÖµ         ;
010E 2119            330                             AJMP MODE1         ;K1¼ü°´ÏÂ
                     331                             
0110                 332     PANDUAN1:        
0110 B40102          333                             CJNE A,#1,PANDUAN2          ; K2¼ü°´ÏÂ
0113 2121            334                 AJMP MODE2          ;
                     335                        
0115                 336     PANDUAN2:       
0115 00              337                             NOP                    ;Ã»ÓÐ¼ü°´ÏÂ
0116 020106          338                             LJMP MAIN_LOOP
                     339                     
0119                 340     MODE1:
0119 D209            341                     SETB INT_FLAG
011B 120168          342                     LCALL LCD_DISP_PIANO
011E 02042D          343                     LJMP PIANO_LOOP
                     344             
                     345     
0121                 346     MODE2:
0121 D209            347                     SETB INT_FLAG
0123 120190          348                     LCALL LCD_DISP_CHOOSE
0126 020589          349                     LJMP PLAYER_LOOP
                     350             
                     351     
                     352     
                     353     
                     354     
                     355     
                     356     
                     357     
                     358     
0129                 359     LCD_INIT:
                     360         
0129 C2A0            361             CLR RS
012B C2A1            362             CLR RW
012D C2A2            363             CLR E
012F 759001          364             MOV P1,#01H;Çå³ÆÁÄ»
                     365     
0132 319A            366             ACALL ENABLE
0134 759038          367             MOV P1,#38H;8Î»µãÕó·½Ê½
0137 319F            368             ACALL ENABLE1
                     369             
0139 319A            370             ACALL ENABLE
013B 75900C          371             MOV P1,#0CH;¿ªÏÔÊ¾
013E 319F            372             ACALL ENABLE1
                     373             
0140 319A            374             ACALL ENABLE
0142 759006          375             MOV P1,#06H;ÒÆ¶¯¹â±ê
0145 319F            376             ACALL ENABLE1
                     377             
0147 319A            378             ACALL ENABLE
0149 759001          379             MOV P1,#01H;¹â±ê¸´Î»
014C 319F            380             ACALL ENABLE1
                     381             
014E 22              382             RET
                     383     
                     384     
                     385     
                     386     
                     387     ;LCD_DISP_TEST: 
A51 MACRO ASSEMBLER  MAIN                                                                 12/24/2023 08:07:32 PAGE     7

                     388     
                     389     ;       LCALL LCD_INIT
                     390     ;       
                     391     ;       MOV DPTR,#LCD_TAB1;ËÍÊ¾Ý±í3
                     392     ;       LCALL WRITE1
                     393     ;       
                     394     ;       LCALL ENABLE
                     395     ;       MOV P1,#0C0H;ÒÆ¶¯¹â±êÎ»ÖÃµ½µÚ¶þÐÐ
                     396     ;       LCALL ENABLE1
                     397     ;       
                     398     ;       MOV DPTR,#LCD_TAB2
                     399     ;       LCALL WRITE1
                     400     ;       
                     401     ;       RET
                     402     
014F                 403     LCD_DISP_MENU:  
                     404     
014F 120129          405             LCALL LCD_INIT
                     406             
0152 9001CA          407             MOV DPTR,#LCD_TAB3;ËÍÊ¾Ý±í3
0155 1201A8          408             LCALL WRITE1
                     409             
0158 12019A          410             LCALL ENABLE
015B 7590C0          411             MOV P1,#0C0H;ÒÆ¶¯¹â±êÎ»ÖÃµ½µÚ¶þÐÐ
015E 12019F          412             LCALL ENABLE1
                     413             
0161 9001DB          414             MOV DPTR,#LCD_TAB4
0164 1201A8          415             LCALL WRITE1
                     416             
0167 22              417             RET
                     418             
0168                 419     LCD_DISP_PIANO: 
                     420     
0168 120129          421             LCALL LCD_INIT
                     422             
016B 9001EB          423             MOV DPTR,#LCD_TAB5;
016E 1201A8          424             LCALL WRITE1
                     425             
0171 22              426             RET
                     427             
0172                 428     LCD_DISP_SONG01:        
                     429     
0172 120129          430             LCALL LCD_INIT
                     431             
0175 90020B          432             MOV DPTR,#LCD_TAB01;
0178 1201A8          433             LCALL WRITE1
                     434             
017B 22              435             RET
017C                 436     LCD_DISP_SONG02:        
                     437     
017C 120129          438             LCALL LCD_INIT
                     439             
017F 90021B          440             MOV DPTR,#LCD_TAB02;
0182 1201A8          441             LCALL WRITE1
                     442             
0185 22              443             RET
                     444             
0186                 445     LCD_DISP_SONG03:        
                     446     
0186 120129          447             LCALL LCD_INIT
                     448             
0189 90022B          449             MOV DPTR,#LCD_TAB03;
018C 1201A8          450             LCALL WRITE1
                     451             
018F 22              452             RET
                     453             
A51 MACRO ASSEMBLER  MAIN                                                                 12/24/2023 08:07:32 PAGE     8

0190                 454     LCD_DISP_CHOOSE:        
                     455     
0190 120129          456             LCALL LCD_INIT
                     457             
0193 9001FB          458             MOV DPTR,#LCD_TAB6;
0196 1201A8          459             LCALL WRITE1
                     460             
0199 22              461             RET
019A                 462     ENABLE:
019A C2A0            463                CLR RS
019C C2A1            464                CLR RW
019E 22              465                RET
019F                 466     ENABLE1:
019F D2A2            467                SETB E
01A1 31C2            468                ACALL DELAY
                     469     ;       NOP
                     470     ;       NOP
                     471     ;       NOP
                     472     ;       NOP
                     473     ;       NOP
01A3 C2A2            474                CLR E
01A5 31C2            475                ACALL DELAY
                     476     ;       NOP
                     477     ;       NOP
                     478     ;       NOP
                     479     ;       NOP
                     480     ;       NOP
01A7 22              481                RET
                     482                
01A8                 483     WRITE1: ;Ð´Ê¾Ý
01A8 7900            484         MOV R1,#00h
01AA                 485     A1:
01AA E9              486         MOV A,R1
01AB 93              487         MOVC A,@A+DPTR
01AC 31B3            488         ACALL WRITE2
01AE 09              489         INC R1
01AF B420F8          490         CJNE A,#20h,A1
01B2 22              491         RET
                     492             
01B3                 493     WRITE2:
01B3 D2A0            494             SETB RS
01B5 C2A1            495         CLR RW
01B7 F590            496         MOV P1,A
01B9 D2A2            497             SETB E
01BB 31C2            498             ACALL DELAY
                     499     
                     500     ;       NOP
                     501     ;       NOP
                     502     ;       NOP
                     503     ;       NOP
                     504     ;       NOP
                     505             
01BD C2A2            506         CLR E
01BF 31C2            507         ACALL DELAY
                     508     
                     509     ;       NOP
                     510     ;       NOP
                     511     ;       NOP
                     512     ;       NOP
                     513     ;       NOP
                     514     
01C1 22              515         RET
                     516     
01C2                 517     DELAY:          ;0.7MSÑÓÊ±
01C2 7AFF            518                 MOV  R2, #255       
01C4                 519     LOOP2:  
A51 MACRO ASSEMBLER  MAIN                                                                 12/24/2023 08:07:32 PAGE     9

                     520     
01C4 00              521                     NOP
01C5 00              522                     NOP                     
01C6 00              523                     NOP
01C7 DAFB            524                     DJNZ  R2, LOOP2 
01C9 22              525                     RET
                     526       
                     527     ;LCD_TAB1: DB 46H,72H,65H,71H,75H,65H,6EH,63H,79H,3AH,31H,30H,30H,48H,7AH,00H;  Frequency:1
                             00Hz
                     528     ;LCD_TAB2: DB 41h,6dh,70h,6ch,69h,74h,75H,64H,65H,3Ah,20H,35H,56H,00H;                  Amp
                             litude: 5V
01CA 4B4B313A        529     LCD_TAB3: DB 4BH,4BH,31H,3AH,50H,69H,61H,6EH,6FH,20H ,20H ,20H ,20H,20H,20H,20H,20H    ;   
                                  K1:Piano
01CE 5069616E                
01D2 6F202020                
01D6 20202020                
01DA 20                      
01DB 4B323A4D        530     LCD_TAB4: DB 4BH,32H,3AH,4DH,75H,73H,69H,63H,5FH,50H,6CH,61H,79H,65H,72H,20H     ;         
                                          K2:Music_Player
01DF 75736963                
01E3 5F506C61                
01E7 79657220                
01EB 50506961        531     LCD_TAB5: DB 50H,50H,69H,61H,6EH,6FH,20H ,20H ,20H ,20H,20H,20H,20H,20H,20H ,20H      ;    
                                          Piano
01EF 6E6F2020                
01F3 20202020                
01F7 20202020                
01FB 4343686F        532     LCD_TAB6: DB 43H,43H,68H,6FH,6FH,73H,65H,5FH,33H,5FH,34H,5FH,35H,20H ,20H ,20H     ;       
                             Choose_3_4_5
01FF 6F73655F                
0203 335F345F                
0207 35202020                
                     533     
                     534     
020B 5454776F        535     LCD_TAB01: DB 54H,54H,77H,6FH,5FH,54H,69H,67H,65H,72H,73H,20H ,20H ,20H ,20H,20H     ;     
                                          /Two_Tigers
020F 5F546967                
0213 65727320                
0217 20202020                
021B 4F4F6E6C        536     LCD_TAB02: DB 4FH,4FH,6EH,6CH,79H,5FH,4DH,6FH,6DH,20H ,20H ,20H ,20H,20H,20H,20H     ;     
                                          /Only_Mom
021F 795F4D6F                
0223 6D202020                
0227 20202020                
022B 4848754D        537     LCD_TAB03: DB 48H,48H,75H,4DH,75H,4DH,77H,51H,20H ,20H ,20H ,20H,20H,20H,20H,20H     ;     
                                          /Huluwa
022F 754D7751                
0233 20202020                
0237 20202020                
                     538     
                     539     
                     540     
                     541             
                     542     
                     543     
                     544     
                     545     
                     546     
023B                 547     KEY_SCAN:
                     548     
023B 757A62          549                     MOV 7AH, #98       
023E 00              550                     NOP
023F 758500          551                     MOV P5, #00000000B
0242 75843F          552                     MOV P4, #00111111B
0245 E584            553                     MOV A, P4
0247 B43F03          554                     CJNE A, #00111111B, HKVAL       ;È·ÈÏÓÐ¼ü°´ÏÂ£¬½øÈëÅÐ¶Ï
A51 MACRO ASSEMBLER  MAIN                                                                 12/24/2023 08:07:32 PAGE    10

024A 02042D          555                     LJMP PIANO_LOOP
                     556                     
024D 743F            557     HKVAL:  MOV A, #00111111B
024F F584            558                     MOV P4,A
0251 7400            559                     MOV A, #00000000B
0253 F585            560                     MOV P5,A
0255 00              561                     NOP
0256 E584            562                     MOV A, P4                       ;ÑéÖ¤ÐÐ
0258 543F            563                     ANL A, #00111111B
025A 30E011          564                     JNB ACC.0, H1           ;µÚÒ»ÐÐ£¬µÈÓÚ0¾ÍÌø×ª
025D 30E113          565                     JNB ACC.1, H2
0260 30E215          566                     JNB ACC.2, H3
0263 30E317          567                     JNB ACC.3, H4
0266 30E419          568                     JNB ACC.4, H5
0269 30E51B          569                     JNB ACC.5, H6           
026C 80DF            570                     SJMP HKVAL
                     571                     
026E 75F000          572     H1:             MOV B, #0     
0271 8019            573                     SJMP LKVAL
0273 75F001          574     H2:             MOV B, #1
0276 8014            575                     SJMP LKVAL      
0278 75F002          576     H3:             MOV B, #2
027B 800F            577                     SJMP LKVAL
027D 75F003          578     H4:             MOV B, #3
0280 800A            579                     SJMP LKVAL
0282 75F004          580     H5:             MOV B, #4
0285 8005            581                     SJMP LKVAL
0287 75F005          582     H6:             MOV B, #5
028A 8000            583                     SJMP LKVAL              
                     584     
                     585     
028C 74C0            586     LKVAL:  MOV A, #11000000B       ;ÑéÖ¤ÁÐ
028E F584            587                     MOV P4, A
0290 74FF            588                     MOV A, #11111111B       ;ÑéÖ¤ÁÐ
0292 F585            589                     MOV P5, A
0294 00              590                     NOP
0295 E584            591                     MOV A, P4
0297 54C0            592                     ANL A, #11000000B
0299 30E615          593                     JNB ACC.6, L1           ;µÚÒ»ÁÐ
029C 30E716          594                     JNB ACC.7, L2           ;µÚ¶þÁÐ 
029F E585            595                     MOV A, P5
02A1 54FF            596                     ANL A, #11111111B
02A3 30E013          597                     JNB ACC.0, L3           ;µÚÈÁÐ
02A6 30E114          598                     JNB ACC.1, L4           ;µÚËÄÁÐ 
02A9 30E215          599                     JNB ACC.2, L5           ;µÚÎåÁÐ
02AC 30E316          600                     JNB ACC.3, L6           ;µÚÁùÁÐ
                     601     
                     602     
                     603                     
02AF 80DB            604                     SJMP LKVAL
                     605                     
02B1 7C00            606     L1:             MOV R4, #0
02B3 8014            607                     SJMP SKVAL
02B5 7C01            608     L2:             MOV R4, #1
02B7 8010            609                     SJMP SKVAL
02B9 7C02            610     L3:             MOV R4, #2
02BB 800C            611                     SJMP SKVAL
02BD 7C03            612     L4:             MOV R4, #3
02BF 8008            613                     SJMP SKVAL
02C1 7C04            614     L5:             MOV R4, #4
02C3 8004            615                     SJMP SKVAL
02C5 7C05            616     L6:             MOV R4, #5
02C7 8000            617                     SJMP SKVAL
                     618                     
02C9 7406            619     SKVAL:  MOV A, #6
02CB A4              620                     MUL AB
A51 MACRO ASSEMBLER  MAIN                                                                 12/24/2023 08:07:32 PAGE    11

02CC 2C              621                     ADD A, R4 ;¼ÆËã¶ÔÓ¦²é±íÆ«ÒÆÁ¿
02CD F57A            622                     MOV 7AH, A                   ;7AHÔÝÊ±´æ·ÅAÖÐ¶ÎÂë
                     623                     
02CF 22              624                     RET
                     625     
                     626     
                     627     
                     628     
02D0                 629     KEY_SCAN1:
                     630     
02D0 757B62          631                     MOV 7BH, #98       
02D3 00              632                     NOP
02D4 758500          633                     MOV P5, #00000000B
02D7 75843F          634                     MOV P4, #00111111B
02DA E584            635                     MOV A, P4
02DC B43F03          636                     CJNE A, #00111111B, HKVAL1      ;È·ÈÏÓÐ¼ü°´ÏÂ£¬½øÈëÅÐ¶Ï
02DF 020106          637                     LJMP MAIN_LOOP
                     638                     
02E2 743F            639     HKVAL1: MOV A, #00111111B
02E4 F584            640                     MOV P4,A
02E6 7400            641                     MOV A, #00000000B
02E8 F585            642                     MOV P5,A
02EA 00              643                     NOP
02EB E584            644                     MOV A, P4                       ;ÑéÖ¤ÐÐ
02ED 543F            645                     ANL A, #00111111B
02EF 30E011          646                     JNB ACC.0, H11          ;µÚÒ»ÐÐ£¬µÈÓÚ0¾ÍÌø×ª
02F2 30E113          647                     JNB ACC.1, H21
02F5 30E215          648                     JNB ACC.2, H31
02F8 30E317          649                     JNB ACC.3, H41
02FB 30E419          650                     JNB ACC.4, H51
02FE 30E51B          651                     JNB ACC.5, H61          
0301 80DF            652                     SJMP HKVAL1
                     653                     
0303 75F000          654     H11:            MOV B, #0     
0306 8019            655                     SJMP LKVAL1
0308 75F001          656     H21:            MOV B, #1
030B 8014            657                     SJMP LKVAL1     
030D 75F002          658     H31:            MOV B, #2
0310 800F            659                     SJMP LKVAL1
0312 75F003          660     H41:            MOV B, #3
0315 800A            661                     SJMP LKVAL1
0317 75F004          662     H51:            MOV B, #4
031A 8005            663                     SJMP LKVAL1
031C 75F005          664     H61:            MOV B, #5
031F 8000            665                     SJMP LKVAL1             
                     666     
                     667     
0321 74C0            668     LKVAL1: MOV A, #11000000B       ;ÑéÖ¤ÁÐ
0323 F584            669                     MOV P4, A
0325 74FF            670                     MOV A, #11111111B       ;ÑéÖ¤ÁÐ
0327 F585            671                     MOV P5, A
0329 00              672                     NOP
032A E584            673                     MOV A, P4
032C 54C0            674                     ANL A, #11000000B
032E 30E615          675                     JNB ACC.6, L11          ;µÚÒ»ÁÐ
0331 30E716          676                     JNB ACC.7, L21          ;µÚ¶þÁÐ 
0334 E585            677                     MOV A, P5
0336 54FF            678                     ANL A, #11111111B
0338 30E013          679                     JNB ACC.0, L31          ;µÚÈÁÐ
033B 30E114          680                     JNB ACC.1, L41          ;µÚËÄÁÐ 
033E 30E215          681                     JNB ACC.2, L51          ;µÚÎåÁÐ
0341 30E316          682                     JNB ACC.3, L61          ;µÚÁùÁÐ
                     683     
                     684     
                     685                     
0344 80DB            686                     SJMP LKVAL1
A51 MACRO ASSEMBLER  MAIN                                                                 12/24/2023 08:07:32 PAGE    12

                     687                     
0346 7C00            688     L11:            MOV R4, #0
0348 8014            689                     SJMP SKVAL1
034A 7C01            690     L21:            MOV R4, #1
034C 8010            691                     SJMP SKVAL1
034E 7C02            692     L31:            MOV R4, #2
0350 800C            693                     SJMP SKVAL1
0352 7C03            694     L41:            MOV R4, #3
0354 8008            695                     SJMP SKVAL1
0356 7C04            696     L51:            MOV R4, #4
0358 8004            697                     SJMP SKVAL1
035A 7C05            698     L61:            MOV R4, #5
035C 8000            699                     SJMP SKVAL1
                     700                     
035E 7406            701     SKVAL1: MOV A, #6
0360 A4              702                     MUL AB
0361 2C              703                     ADD A, R4 ;¼ÆËã¶ÔÓ¦²é±íÆ«ÒÆÁ¿
0362 F57B            704                     MOV 7BH, A                   ;7AHÔÝÊ±´æ·ÅAÖÐ¶ÎÂë
                     705                     
0364 22              706                     RET
                     707     
0365                 708     KEY_SCAN2:
                     709     
0365 757C62          710                     MOV 7CH, #98       
0368 00              711                     NOP
0369 758500          712                     MOV P5, #00000000B
036C 75843F          713                     MOV P4, #00111111B
036F E584            714                     MOV A, P4
0371 B43F03          715                     CJNE A, #00111111B, HKVAL11     ;È·ÈÏÓÐ¼ü°´ÏÂ£¬½øÈëÅÐ¶Ï
0374 020589          716                     LJMP PLAYER_LOOP
                     717                     
0377 743F            718     HKVAL11:        MOV A, #00111111B
0379 F584            719                     MOV P4,A
037B 7400            720                     MOV A, #00000000B
037D F585            721                     MOV P5,A
037F 00              722                     NOP
0380 E584            723                     MOV A, P4                       ;ÑéÖ¤ÐÐ
0382 543F            724                     ANL A, #00111111B
0384 30E011          725                     JNB ACC.0, H111         ;µÚÒ»ÐÐ£¬µÈÓÚ0¾ÍÌø×ª
0387 30E113          726                     JNB ACC.1, H211
038A 30E215          727                     JNB ACC.2, H311
038D 30E317          728                     JNB ACC.3, H411
0390 30E419          729                     JNB ACC.4, H511
0393 30E51B          730                     JNB ACC.5, H611         
0396 80DF            731                     SJMP HKVAL11
                     732                     
0398 75F000          733     H111:           MOV B, #0     
039B 8019            734                     SJMP LKVAL11
039D 75F001          735     H211:           MOV B, #1
03A0 8014            736                     SJMP LKVAL11
03A2 75F002          737     H311:           MOV B, #2
03A5 800F            738                     SJMP LKVAL11
03A7 75F003          739     H411:           MOV B, #3
03AA 800A            740                     SJMP LKVAL11
03AC 75F004          741     H511:           MOV B, #4
03AF 8005            742                     SJMP LKVAL11
03B1 75F005          743     H611:           MOV B, #5
03B4 8000            744                     SJMP LKVAL11            
                     745     
                     746     
03B6 74C0            747     LKVAL11:        MOV A, #11000000B       ;ÑéÖ¤ÁÐ
03B8 F584            748                     MOV P4, A
03BA 74FF            749                     MOV A, #11111111B       ;ÑéÖ¤ÁÐ
03BC F585            750                     MOV P5, A
03BE 00              751                     NOP
03BF E584            752                     MOV A, P4
A51 MACRO ASSEMBLER  MAIN                                                                 12/24/2023 08:07:32 PAGE    13

03C1 54C0            753                     ANL A, #11000000B
03C3 30E615          754                     JNB ACC.6, L111         ;µÚÒ»ÁÐ
03C6 30E716          755                     JNB ACC.7, L211 ;µÚ¶þÁÐ 
03C9 E585            756                     MOV A, P5
03CB 54FF            757                     ANL A, #11111111B
03CD 30E013          758                     JNB ACC.0, L311         ;µÚÈÁÐ
03D0 30E114          759                     JNB ACC.1, L411         ;µÚËÄÁÐ 
03D3 30E215          760                     JNB ACC.2, L511         ;µÚÎåÁÐ
03D6 30E316          761                     JNB ACC.3, L611         ;µÚÁùÁÐ
                     762     
                     763     
                     764                     
03D9 80DB            765                     SJMP LKVAL11
                     766                     
03DB 7F00            767     L111:           MOV R7, #0
03DD 8014            768                     SJMP SKVAL11
03DF 7F01            769     L211:           MOV R7, #1
03E1 8010            770                     SJMP SKVAL11
03E3 7F02            771     L311:           MOV R7, #2
03E5 800C            772                     SJMP SKVAL11
03E7 7F03            773     L411:           MOV R7, #3
03E9 8008            774                     SJMP SKVAL11
03EB 7F04            775     L511:           MOV R7, #4
03ED 8004            776                     SJMP SKVAL11
03EF 7F05            777     L611:           MOV R7, #5
03F1 8000            778                     SJMP SKVAL11
                     779                     
03F3 7406            780     SKVAL11:        MOV A, #6
03F5 A4              781                     MUL AB
03F6 2F              782                     ADD A, R7 ;¼ÆËã¶ÔÓ¦²é±íÆ«ÒÆÁ¿
03F7 F57C            783                     MOV 7CH, A                   ;7AHÔÝÊ±´æ·ÅAÖÐ¶ÎÂë
                     784                     
03F9 22              785                     RET
                     786     
                     787     
                     788     
                     789     
                     790     
                     791     
                     792     
                     793     
                     794     
                     795                     
                     796                     
03FA                 797     EXINT0:
03FA C209            798                     CLR INT_FLAG
                     799     ;                       JB BUZ,MAKE_EA//µÈÓÚ1Ìø×ª
                     800     ;               CPL BUZ
                     801     ;MAKE_EA:               CPL EA  
                     802     
03FC 32              803                     RETI
                     804     
                     805     
03FD                 806     T0_Process:     
                     807     
03FD 85318C          808                     MOV TH0,STH0          ; T0ÖÐ¶Ï·þÎñ³ÌÐò
0400 85328A          809             MOV TL0,STL0          ;
0403 B2A3            810             CPL P2.3          ; Êä³ö·½²¨
0405 32              811             RETI          ;
                     812     
0406                 813     EXINT1: 
0406 20A302          814                     JB BUZ,MAKE_EA 
0409 B2A3            815                     CPL BUZ
040B B2A9            816     MAKE_EA:                CPL ET0
                     817                     
040D 32              818     INT1_BACK:              RETI
A51 MACRO ASSEMBLER  MAIN                                                                 12/24/2023 08:07:32 PAGE    14

                     819     
                     820     
040E                 821     T1_Process:     
                     822     
040E C0E0            823             PUSH ACC
0410 E535            824             MOV A,COUNT_T1
0412 B4000B          825             CJNE A,#0,T0L2
0415 C28C            826                CLR TR0
0417 C28E            827            CLR TR1
0419 C211            828                CLR DELAY_FLAG
041B C210            829            CLR NEXT
041D 020429          830            LJMP T0L3                        
0420                 831     T0L2:           
0420 14              832                     DEC A
0421 F535            833                     MOV COUNT_T1,A
0423 85338D          834                     MOV TH1,STH1          ;
0426 85348B          835             MOV TL1,STL1          ; 
0429                 836     T0L3:   
0429 D0E0            837                     POP ACC
042B 32              838                     RETI
                     839     
                     840     
                     841     
                     842     
                     843     
                     844     
                     845     
                     846     
042C                 847     TUICHU1:
                     848     
042C 22              849     RET
                     850     
                     851     
                     852     
                     853     
042D                 854     PIANO_LOOP:
                     855             
042D 3009FC          856             JNB INT_FLAG,TUICHU1   
                     857     
                     858     
                     859     
                     860     
0430 757A62          861             MOV 7AH, #98
0433 12023B          862             LCALL KEY_SCAN
0436 E57A            863             MOV A, 7AH                 
                     864                                
0438 B40003          865                             CJNE A,#0,NK1          ;¸ù¾Ý¶ÎÂëÅÐ¶ÏAµÄ¼üÖµ         ;
043B 020514          866                             LJMP Start_Piano         ;K1¼ü°´ÏÂ
043E B40103          867     NK1:       CJNE A,#1,NK2          ; K2¼ü°´ÏÂ
0441 020514          868                LJMP Start_Piano          ;
0444 B40203          869     NK2:       CJNE A,#2,NK3          ;K3¼ü°´ÏÂ         
0447 020514          870                LJMP Start_Piano         ;
044A B40303          871     NK3:       CJNE A,#3,NK4          ;K4¼ü°´ÏÂ         ;
044D 020514          872                LJMP Start_Piano
0450 B40403          873     NK4:       CJNE A,#4,NK5          ; K5¼ü°´ÏÂ
0453 020514          874                LJMP Start_Piano          ;
0456 B40503          875     NK5:       CJNE A,#5,NK6          ;K6¼ü°´ÏÂ         
0459 020514          876                LJMP Start_Piano         ;
045C B40603          877     NK6:       CJNE A,#6,NK7         ;K7¼ü°´ÏÂ         ;
045F 020514          878                LJMP Start_Piano
0462 B40703          879     NK7:       CJNE A,#7,NK8          ; K8¼ü°´ÏÂ
0465 020514          880                LJMP Start_Piano          ;
0468 B40803          881     NK8:       CJNE A,#8,NK9          ;K9¼ü°´ÏÂ         
046B 020514          882                LJMP Start_Piano         ;
046E B40903          883     NK9:       CJNE A,#9,NK10          ;K10¼ü°´ÏÂ         ;
0471 020514          884                LJMP Start_Piano
A51 MACRO ASSEMBLER  MAIN                                                                 12/24/2023 08:07:32 PAGE    15

0474 B40A03          885     NK10:       CJNE A,#10,NK11          ; K11¼ü°´ÏÂ
0477 020514          886                LJMP Start_Piano          ;
047A B40B03          887     NK11:       CJNE A,#11,NK12         ;K12¼ü°´ÏÂ         
047D 020514          888                LJMP Start_Piano         ;
0480 B40C03          889     NK12:       CJNE A,#12,NK13         ;K13¼ü°´ÏÂ         ;
0483 020514          890                LJMP Start_Piano
0486 B40D03          891     NK13:       CJNE A,#13,NK14          ; K14¼ü°´ÏÂ
0489 020514          892                LJMP Start_Piano          ;
048C B40E03          893     NK14:       CJNE A,#14,NK15          ;K15¼ü°´ÏÂ         
048F 020514          894                LJMP Start_Piano         ;
0492 B40F03          895     NK15:       CJNE A,#15,NK16          ;K16¼ü°´ÏÂ         ;
0495 020514          896                LJMP Start_Piano
0498 B41003          897     NK16:       CJNE A,#16,NK17          ; K17¼ü°´ÏÂ
049B 020514          898                LJMP Start_Piano          ;
049E B41103          899     NK17:       CJNE A,#17,NK18          ;K18¼ü°´ÏÂ         
04A1 020514          900                LJMP Start_Piano         ;
04A4 B41203          901     NK18:       CJNE A,#18,NK19          ;K19¼ü°´ÏÂ         ;
04A7 020514          902                LJMP Start_Piano
04AA B41303          903     NK19:       CJNE A,#19,NK20          ; K20¼ü°´ÏÂ
04AD 020514          904                LJMP Start_Piano          ;
04B0 B41403          905     NK20:       CJNE A,#20,NK21          ;K21¼ü°´ÏÂ         
04B3 020514          906                LJMP Start_Piano         ;
04B6 B41503          907     NK21:       CJNE A,#21,NK22          ;K22¼ü°´ÏÂ         ;
04B9 020514          908                LJMP Start_Piano
04BC B41603          909     NK22:       CJNE A,#22,NK23          ; K23¼ü°´ÏÂ
04BF 020514          910                LJMP Start_Piano          ;
04C2 B41703          911     NK23:       CJNE A,#23,NK24          ;K24¼ü°´ÏÂ         
04C5 020514          912                LJMP Start_Piano         ;
04C8 B41803          913     NK24:       CJNE A,#24,NK25          ;K25¼ü°´ÏÂ         ;
04CB 020514          914                LJMP Start_Piano
04CE B41903          915     NK25:       CJNE A,#25,NK26          ; K26¼ü°´ÏÂ
04D1 020514          916                LJMP Start_Piano          ;
04D4 B41A03          917     NK26:       CJNE A,#26,NK27          ;K27¼ü°´ÏÂ         
04D7 020514          918                LJMP Start_Piano         ;
04DA B41B03          919     NK27:       CJNE A,#27,NK28          ;K28¼ü°´ÏÂ         ;
04DD 020514          920                LJMP Start_Piano
04E0 B41C03          921     NK28:       CJNE A,#28,NK29          ;K29¼ü°´ÏÂ         
04E3 020514          922                LJMP Start_Piano         ;
04E6 B41D03          923     NK29:       CJNE A,#29,NK30          ;K30¼ü°´ÏÂ         ;
04E9 020514          924                LJMP Start_Piano
04EC B41E03          925     NK30:       CJNE A,#30,NK31          ; K31¼ü°´ÏÂ
04EF 020514          926                LJMP Start_Piano          ;
04F2 B41F03          927     NK31:       CJNE A,#31,NK32          ;K32¼ü°´ÏÂ         
04F5 020514          928                LJMP Start_Piano         ;
04F8 B42003          929     NK32:       CJNE A,#32,NK33          ;K33¼ü°´ÏÂ         ;
04FB 020514          930                LJMP Start_Piano
04FE B42103          931     NK33:       CJNE A,#33,NK34          ; K34¼ü°´ÏÂ
0501 020514          932                LJMP Start_Piano          ;
0504 B42203          933     NK34:       CJNE A,#34,NK35          ;K35¼ü°´ÏÂ         
0507 020514          934                LJMP Start_Piano         ;
050A B42303          935     NK35:       CJNE A,#35,NK36          ;K36¼ü°´ÏÂ         ;
050D 020100          936                LJMP MAIN
                     937     
                     938     
0510 00              939     NK36:       NOP                    ;Ã»ÓÐ¼ü°´ÏÂ
                     940     
0511 02042D          941                     LJMP PIANO_LOOP
                     942                     
                     943                     
0514                 944     Start_Piano:       
0514 E57A            945                             MOV A,KeyVal_Address
0516 75F002          946                MOV B,#2
0519 A4              947                             MUL AB          ;ÒòÎª²é±íÀï¶¼ÊÇ×Ö£¬ËùÒÔ³Ë2µÄ²é±íÊ¾Ý
051A F536            948                MOV TEMP,A          ;
051C 900541          949                MOV DPTR,#TABLE          ;  Ö¸Ïò±íÍ·
051F 93              950                MOVC A,@A+DPTR          ; ²é±í
A51 MACRO ASSEMBLER  MAIN                                                                 12/24/2023 08:07:32 PAGE    16

0520 F531            951                MOV STH0,A          ;
0522 F58C            952                MOV TH0,A          ;  ½«Ê¾Ý¸ßÎ»ËÍTH0
0524 0536            953                INC TEMP          ;
0526 E536            954                MOV A,TEMP          ;
0528 93              955                MOVC A,@A+DPTR          ;
0529 F532            956                MOV STL0,A          ;
052B F58A            957                MOV TL0,A          ;½«Ê¾ÝµÍÎ»ËÍTH0
052D D28C            958                SETB TR0          ; Æô¶¯¶¨Ê±Æ÷T0
                     959                        
052F                 960     Stop_Piano:      
052F 758500          961                     MOV P5, #00000000B;ËÉÊÖ¼ì²â
0532 75843F          962                     MOV P4, #00111111B
0535 E584            963                     MOV A, P4
0537 B43FF5          964                     CJNE A, #00111111B,Stop_Piano
053A C28C            965             CLR TR0          ;¹Ø±Õ¶¨Ê±Æ÷T0
053C D2A3            966                     SETB BUZ
                     967                     
053E 02042D          968                     LJMP PIANO_LOOP
                     969                        
0541 F117            970     TABLE:     DW 61719,61926,62135,62321,62506,62671          
0543 F1E6                    
0545 F2B7                    
0547 F371                    
0549 F42A                    
054B F4CF                    
054D F571            971                DW 62833,62985,63126,63263,63390,63512          
054F F609                    
0551 F696                    
0553 F71F                    
0555 F79E                    
0557 F818                    
0559 F888            972                DW 63624,63731,63832,63928,64019,64103          
055B F8F3                    
055D F958                    
055F F9B8                    
0561 FA13                    
0563 FA67                    
0565 FAB9            973                DW 64185,64260,64333,64400,64463,64524
0567 FB04                    
0569 FB4D                    
056B FB90                    
056D FBCF                    
056F FC0C                    
0571 FC44            974                        DW 64580,64634,64685,64733,64777,64820          
0573 FC7A                    
0575 FCAD                    
0577 FCDD                    
0579 FD09                    
057B FD34                    
057D FD5C            975                DW 64860,64898,64934,64968,65000,65030
057F FD82                    
0581 FDA6                    
0583 FDC8                    
0585 FDE8                    
0587 FE06                    
                     976     
                     977     
                     978     
                     979     
                     980     
                     981     
0589                 982     PLAYER_LOOP:
                     983     
                     984                     
                     985     
                     986                             
A51 MACRO ASSEMBLER  MAIN                                                                 12/24/2023 08:07:32 PAGE    17

0589 85318C          987           MOV TH0,31H
058C 85328A          988           MOV TL0,32H
                     989                       
058F 7533DF          990               MOV STH1,#0DFH
0592 753473          991               MOV STL1,#73H
                     992               
0595 7C00            993           MOV R4,#00H
                     994               
0597 120365          995               LCALL KEY_SCAN2
                     996               
059A E57C            997                     MOV A, KeyVal_Address2
                     998        
059C B40306          999                             CJNE A,#3,PANDUAN11          ;¸ù¾Ý¶ÎÂëÅÐ¶ÏAµÄ¼üÖµ         ;
059F 120172         1000                             LCALL LCD_DISP_SONG01
05A2 0205BB         1001                             LJMP SONG01         ;K1¼ü°´ÏÂ
                    1002                             
05A5                1003     PANDUAN11:        
05A5 B40406         1004                             CJNE A,#4,PANDUAN21          ; K2¼ü°´ÏÂ
05A8 12017C         1005                             LCALL LCD_DISP_SONG02
                    1006     
05AB 020601         1007                 LJMP SONG02          ;
                    1008                        
05AE                1009     PANDUAN21:   
05AE B40506         1010                             CJNE A,#5,PANDUAN31          ; K2¼ü°´ÏÂ
05B1 120186         1011                             LCALL LCD_DISP_SONG03
                    1012     
05B4 020649         1013                 LJMP SONG03          ;
                    1014     
05B7                1015     PANDUAN31:
05B7 00             1016                             NOP                    ;Ã»ÓÐ¼ü°´ÏÂ
05B8 020589         1017                             LJMP PLAYER_LOOP
                    1018               
                    1019               
                    1020               
05BB                1021     SONG01:
05BB 90069F         1022           MOV DPTR,#TAB01
                    1023               
05BE                1024     YD1: 
                    1025     
                    1026     
05BE 30091A         1027     JNB INT_FLAG,TUICHU01   
                    1028                     
                    1029     
05C1 30A9FD         1030                     JNB ET0,$
                    1031                     
05C4 EC             1032                     MOV A,R4            ;È¡Òôµ÷Ê¾Ý£¬R4´ú±íÊÇ±íÖÐµÚ¼¸¸öÔªËØ
05C5 93             1033           MOVC A,@A+DPTR
05C6 F531           1034           MOV STH0,A              
                    1035     ;      XRL A,#00H
                    1036     ;      JNZ JP              ;Ö±½ÓÈ¡½ÚÅÄ,µ±A²»Îª0Ê±Ìø×ª
05C8 0C             1037           INC R4
05C9 1205FA         1038           LCALL PD1             ;ÅÐ¶ÏÖ¸ÕëÊÇ·ñÒç³ö
05CC EC             1039           MOV A,R4
05CD 93             1040           MOVC A,@A+DPTR
05CE F532           1041           MOV STL0,A             
05D0 64FF           1042           XRL A,#0FFH         
05D2 7008           1043           JNZ JP1
05D4 E531           1044           MOV A,STH0
05D6 64FF           1045           XRL A,#0FFH
                    1046                             
05D8 020106         1047               LJMP  MAIN_LOOP
                    1048     
05DB                1049     TUICHU01:
05DB 22             1050     RET
                    1051     
                    1052               
A51 MACRO ASSEMBLER  MAIN                                                                 12/24/2023 08:07:32 PAGE    18

05DC 0C             1053     JP1:   INC R4               ;È¡½ÚÅÄÊ¾Ý
05DD 1205FA         1054           LCALL PD1
05E0 EC             1055           MOV A,R4
05E1 93             1056           MOVC A,@A+DPTR
05E2 F535           1057           MOV COUNT_T1,A              ;½ÚÅÄ´æÔÚCOUNT_T1ÖÐ
05E4 D2AF           1058           SETB EA
05E6 D2A9           1059           SETB ET0
05E8 D2AB           1060           SETB ET1
05EA D28C           1061           SETB TR0
05EC D28E           1062           SETB TR1
05EE D210           1063           SETB NEXT
                    1064     
05F0 2010FD         1065           JB NEXT,$
05F3 0C             1066           INC R4
05F4 1205FA         1067           LCALL PD1
05F7 0205BE         1068           LJMP YD1
05FA EC             1069     PD1:   MOV A,R4
05FB B40002         1070           CJNE A,#00H,T1L1
05FE 0583           1071           INC DPH
                    1072               
0600 22             1073     T1L1:   RET
                    1074     
                    1075     
                    1076     
0601                1077     SONG02:
0601 900702         1078           MOV DPTR,#TAB02
                    1079               
0604                1080     YD2: 
                    1081     
                    1082     
                    1083     
                    1084     
0604 30091C         1085     JNB INT_FLAG,TUICHU02   
                    1086     
                    1087     
                    1088     
                    1089     
                    1090     
                    1091     
0607 30A9FD         1092                     JNB ET0,$
                    1093     
060A EC             1094                     MOV A,R4            ;È¡Òôµ÷Ê¾Ý£¬R4´ú±íÊÇ±íÖÐµÚ¼¸¸öÔªËØ
060B 93             1095           MOVC A,@A+DPTR
060C F531           1096           MOV STH0,A              
                    1097     ;      XRL A,#00H
                    1098     ;      JNZ JP              ;Ö±½ÓÈ¡½ÚÅÄ,µ±A²»Îª0Ê±Ìø×ª
060E 0C             1099           INC R4
060F 120642         1100           LCALL PD2             ;ÅÐ¶ÏÖ¸ÕëÊÇ·ñÒç³ö
0612 EC             1101           MOV A,R4
0613 93             1102           MOVC A,@A+DPTR
0614 F532           1103           MOV STL0,A             
0616 64FF           1104           XRL A,#0FFH         
0618 700A           1105           JNZ JP2
061A E531           1106           MOV A,STH0
061C 64FF           1107           XRL A,#0FFH
061E 70E1           1108           JNZ SONG02     
                    1109             
0620 020106         1110               LJMP  MAIN_LOOP       
                    1111     
                    1112     
0623                1113     TUICHU02:
                    1114     
0623 22             1115     RET
                    1116     
                    1117     
                    1118     
A51 MACRO ASSEMBLER  MAIN                                                                 12/24/2023 08:07:32 PAGE    19

                    1119               
0624 0C             1120     JP2:   INC R4               ;È¡½ÚÅÄÊ¾Ý
0625 120642         1121           LCALL PD2
0628 EC             1122           MOV A,R4
0629 93             1123           MOVC A,@A+DPTR
062A F535           1124           MOV COUNT_T1,A              ;½ÚÅÄ´æÔÚCOUNT_T1ÖÐ
062C D2AF           1125           SETB EA
062E D2A9           1126           SETB ET0
0630 D2AB           1127           SETB ET1
0632 D28C           1128           SETB TR0
0634 D28E           1129           SETB TR1
0636 D210           1130           SETB NEXT 
0638 2010FD         1131           JB NEXT,$
063B 0C             1132           INC R4
063C 120642         1133           LCALL PD2
063F 020604         1134           LJMP YD2
0642 EC             1135     PD2:   MOV A,R4
0643 B400BA         1136           CJNE A,#00H,T1L1
0646 0583           1137           INC DPH
                    1138               
0648 22             1139     T1L2:   RET
                    1140     
                    1141     
                    1142     
0649                1143     SONG03:
0649 900767         1144           MOV DPTR,#TAB03
                    1145               
064C                1146     YD3:   
                    1147     
                    1148     
064C 30091C         1149     JNB INT_FLAG,TUICHU03   
                    1150     
                    1151     
064F 30A9FD         1152                     JNB ET0,$
                    1153     
0652 EC             1154                     MOV A,R4            ;È¡Òôµ÷Ê¾Ý£¬R4´ú±íÊÇ±íÖÐµÚ¼¸¸öÔªËØ
0653 93             1155           MOVC A,@A+DPTR
0654 F531           1156           MOV STH0,A              
                    1157     ;      XRL A,#00H
                    1158     ;      JNZ JP              ;Ö±½ÓÈ¡½ÚÅÄ,µ±A²»Îª0Ê±Ìø×ª
0656 0C             1159           INC R4
0657 12068A         1160           LCALL PD3             ;ÅÐ¶ÏÖ¸ÕëÊÇ·ñÒç³ö
065A EC             1161           MOV A,R4
065B 93             1162           MOVC A,@A+DPTR
065C F532           1163           MOV STL0,A             
065E 64FF           1164           XRL A,#0FFH         
0660 700A           1165           JNZ JP3
0662 E531           1166           MOV A,STH0
0664 64FF           1167           XRL A,#0FFH
0666 70E1           1168           JNZ SONG03
                    1169             
0668 020106         1170               LJMP  MAIN_LOOP
                    1171     
066B                1172     TUICHU03:
                    1173     
066B 22             1174     RET
                    1175     ;         
                    1176               
066C 0C             1177     JP3:   INC R4               ;È¡½ÚÅÄÊ¾Ý
066D 12068A         1178           LCALL PD3
0670 EC             1179           MOV A,R4
0671 93             1180           MOVC A,@A+DPTR
0672 F535           1181           MOV COUNT_T1,A              ;½ÚÅÄ´æÔÚCOUNT_T1ÖÐ
0674 D2AF           1182           SETB EA
0676 D2A9           1183           SETB ET0
0678 D2AB           1184           SETB ET1
A51 MACRO ASSEMBLER  MAIN                                                                 12/24/2023 08:07:32 PAGE    20

067A D28C           1185           SETB TR0
067C D28E           1186           SETB TR1
067E D210           1187           SETB NEXT 
0680 2010FD         1188           JB NEXT,$
0683 0C             1189           INC R4
0684 12068A         1190           LCALL PD3
0687 02064C         1191           LJMP YD3
068A EC             1192     PD3:   MOV A,R4
068B B40002         1193           CJNE A,#00H,T1L3
068E 0583           1194           INC DPH
                    1195               
0690 22             1196     T1L3:   RET
                    1197           
                    1198     
                    1199     ;;½ÚÅÄ²úÉú×Ó³ÌÐò
                    1200     ;BEAT: 
                    1201     ;               CJNE R5,#0,L2
                    1202     ;          CLR TR0
                    1203     ;       CLR TR1
                    1204     ;       CLR NEXT
                    1205     ;       LJMP L3
                    1206     ;                       
                    1207     ;L2:            
                    1208     ;               DEC R5
                    1209     ;               MOV TH1,#0DFH
                    1210     ;        MOV TL1,#73H   
                    1211     ;L3:   RETI
                    1212     
                    1213     
0691                1214     NOTE_TABLE: 
0691 F888           1215     DW 63624,63832,64019,64103,64260,64400,64524 
0693 F958                    
0695 FA13                    
0697 FA67                    
0699 FB04                    
069B FB90                    
069D FC0C                    
                    1216     
                    1217     
                    1218     ;    0F8H,088H   //1
                    1219     ;       0F9H,058H   //2
                    1220     ;       0FAH,013H   //3
                    1221     ;       0FAH,67H    //4
                    1222     ;       0FBH,04H    //5
                    1223     ;       0FBH,90H    //6
                    1224     ;       0FCH,0CH    //7
                    1225     
                    1226     
                    1227     
                    1228     ;Á½Ö»ÀÏ»¢Òô·û±í 
069F                1229     TAB01: 
                    1230     
                    1231     
069F F88808F9       1232             DB 0F8H,088H,08H,0F9H,058H,08H,0FAH,013H,08H,0F8H,088H,08H         
06A3 5808FA13                
06A7 08F88808                
06AB F88808F9       1233          DB 0F8H,088H,08H,0F9H,058H,08H,0FAH,013H,08H,0F8H,088H,08H          
06AF 5808FA13                
06B3 08F88808                
06B7 FA1308FA       1234          DB 0FAH,013H,08H,0FAH,67H,08H,0FBH,04H,10H,      0FAH,013H,08H      
06BB 6708FB04                
06BF 10FA1308                
06C3 FA6708FB       1235          DB 0FAH,67H,08H,0FBH,04H,10H,        0FBH,04H,04H,0FBH,90H,04H       
06C7 0410FB04                
06CB 04FB9004                
06CF FB0404FA       1236          DB 0FBH,04H,04H,0FAH,67H,04H,0FAH,013H,08H,0F8H,088H,08H     
A51 MACRO ASSEMBLER  MAIN                                                                 12/24/2023 08:07:32 PAGE    21

06D3 6704FA13                
06D7 08F88808                
06DB FB0404FB       1237          DB 0FBH,04H,04H,0FBH,90H,04H,0FBH,04H,04H,0FAH,67H,04H             
06DF 9004FB04                
06E3 04FA6704                
06E7 FA1308F8       1238          DB 0FAH,013H,08H,0F8H,088H,08H,        0F8H,088H,08H,0FBH,04H,08H    
06EB 8808F888                
06EF 08FB0408                
06F3 F88810F8       1239          DB 0F8H,088H,10H, 0F8H,088H,08H,0FBH,04H,08H, 0F8H,088H,10H   
06F7 8808FB04                
06FB 08F88810                
06FF FFFF04         1240          DB 0FFH,0FFH,04H       
                    1241     
                    1242     
                    1243     
                    1244     
                    1245     
                    1246     ;ÊÀÉÏÖ»ÓÐÂèÂèºÃÒô·û±í           
0702                1247     TAB02:
0702 FB900CFB       1248             DB 0FBH,90H,0CH,0FBH,04H,04H,0FAH,013H,08H,0FBH,04H,08H
0706 0404FA13                
070A 08FB0408                
070E F88808FB       1249             DB 0F8H,088H,08H,0FBH,90H,04H,0FBH,04H,04H,0FBH,90H,10H
0712 9004FB04                
0716 04FB9010                
071A FA1308FB       1250             DB 0FAH,013H,08H,0FBH,04H,04H,0FBH,90H,04H,0FBH,04H,08H,0FAH,013H,08H
071E 0404FB90                
0722 04FB0408                
0726 FA1308                  
0729 F88804FB       1251             DB 0F8H,088H,04H,0FBH,90H,04H,0FBH,04H,04H,0FAH,013H,04H,0F9H,058H,10H
072D 9004FB04                
0731 04FA1304                
0735 F95810                  
0738 F9580CFA       1252             DB 0F9H,058H,0CH,0FAH,013H,04H,0FBH,04H,08H,0FBH,04H,04H,0FBH,90H,04H
073C 1304FB04                
0740 08FB0404                
0744 FB9004                  
0747 FA1308F9       1253             DB 0FAH,013H,08H,0F9H,058H,08H,0F8H,088H,10H
074B 5808F888                
074F 10                      
0750 FB040CFA       1254             DB 0FBH,04H,0CH,0FAH,013H,04H,0F9H,058H,04H,0F8H,088H,04H,0FBH,90H,04H,0F8H,088H,04H
0754 1304F958                
0758 04F88804                
075C FB9004F8                
0760 8804                    
0762 FB0420         1255             DB 0FBH,04H,20H
0765 FFFF           1256             DB 0FFH,0FFH
                    1257                     
                    1258     
                    1259     
                    1260     ;ºùÂ«ÍÞÒô·û±í
0767                1261     TAB03:
0767 F88808F8       1262             DB 0F8H,088H,08H,0F8H,088H,08H,0FAH,013H,10H
076B 8808FA13                
076F 10                      
0770 F88804F8       1263             DB 0F8H,088H,04H,0F8H,088H,08H,0FAH,013H,04H,0F8H,088H,10H
0774 8808FA13                
0778 04F88810                
077C FB9008FB       1264             DB 0FBH,90H,08H,0FBH,90H,08H,0FBH,90H,04H,0FBH,04H,04H,0FBH,90H,08H
0780 9008FB90                
0784 04FB0404                
0788 FB9008                  
078B FB0404F8       1265             DB 0FBH,04H,04H,0F8H,088H,08H,0FAH,013H,0CH,0F8H,088,08H
078F 8808FA13                
0793 0CF85808                
0797 F88804FB       1266             DB 0F8H,088H,04H,0FBH,90H,04H,0FBH,90H,04H,0FBH,04H,04H,0FBH,90H,10H
A51 MACRO ASSEMBLER  MAIN                                                                 12/24/2023 08:07:32 PAGE    22

079B 9004FB90                
079F 04FB0404                
07A3 FB9010                  
07A6 FB0404F8       1267             DB 0FBH,04H,04H,0F8H,088H,08H,0F9H,058H,0CH,0FCH,0CH,08H
07AA 8808F958                
07AE 0CFC0C08                
07B2 FC0C10FB       1268             DB 0FCH,0CH,10H,0FBH,04H,08H,0FAH,013H,08H
07B6 0408FA13                
07BA 08                      
07BB FB0420         1269             DB 0FBH,04H,20H
07BE FFFF           1270             DB 0FFH,0FFH
                    1271     
                    1272     
                    1273     
                    1274     
                    1275     ;    0F8H,088H   //1
                    1276     ;       0F9H,058H   //2
                    1277     ;       0FAH,013H   //3
                    1278     ;       0FAH,67H    //4
                    1279     ;       0FBH,04H    //5
                    1280     ;       0FBH,90H    //6
                    1281     ;       0FCH,0CH    //7
                    1282     
                    1283     
                    1284     
                    1285     
                    1286     
                    1287     
                    1288     
                    1289     
                    1290     
                    1291     
                    1292     
                    1293     
                    1294     
                    1295     ; Peripheral specific initialization functions,
                    1296     ; Called from the Init_Device label
07C0                1297     Reset_Sources_Init:
07C0 75FFDE         1298         mov  WDTCN,     #0DEh
07C3 75FFAD         1299         mov  WDTCN,     #0ADh
07C6 22             1300         ret
                    1301     
07C7                1302     Timer_Init:
07C7 758E08         1303         mov  CKCON,     #008h
07CA 758805         1304         mov  TCON,      #005h
07CD 758911         1305         mov  TMOD,      #011h
07D0 758B73         1306         mov  TL1,       #073h
07D3 758DDF         1307         mov  TH1,       #0DFh
07D6 22             1308         ret
                    1309     
07D7                1310     Port_IO_Init:
                    1311         ; P0.0  -  Unassigned,  Push-Pull,  Digital
                    1312         ; P0.1  -  Unassigned,  Push-Pull,  Digital
                    1313         ; P0.2  -  Unassigned,  Push-Pull,  Digital
                    1314         ; P0.3  -  Unassigned,  Push-Pull,  Digital
                    1315         ; P0.4  -  Unassigned,  Push-Pull,  Digital
                    1316         ; P0.5  -  Unassigned,  Push-Pull,  Digital
                    1317         ; P0.6  -  Unassigned,  Push-Pull,  Digital
                    1318         ; P0.7  -  Unassigned,  Push-Pull,  Digital
                    1319     
                    1320         ; P1.0  -  Unassigned,  Push-Pull,  Digital
                    1321         ; P1.1  -  Unassigned,  Push-Pull,  Digital
                    1322         ; P1.2  -  Unassigned,  Push-Pull,  Digital
                    1323         ; P1.3  -  Unassigned,  Push-Pull,  Digital
                    1324         ; P1.4  -  Unassigned,  Push-Pull,  Digital
                    1325         ; P1.5  -  Unassigned,  Push-Pull,  Digital
A51 MACRO ASSEMBLER  MAIN                                                                 12/24/2023 08:07:32 PAGE    23

                    1326         ; P1.6  -  Unassigned,  Push-Pull,  Digital
                    1327         ; P1.7  -  Unassigned,  Push-Pull,  Digital
                    1328     
                    1329         ; P2.0  -  Unassigned,  Push-Pull,  Digital
                    1330         ; P2.1  -  Unassigned,  Push-Pull,  Digital
                    1331         ; P2.2  -  Unassigned,  Push-Pull,  Digital
                    1332         ; P2.3  -  Unassigned,  Push-Pull,  Digital
                    1333         ; P2.4  -  Unassigned,  Push-Pull,  Digital
                    1334         ; P2.5  -  Unassigned,  Push-Pull,  Digital
                    1335         ; P2.6  -  Unassigned,  Push-Pull,  Digital
                    1336         ; P2.7  -  Unassigned,  Push-Pull,  Digital
                    1337     
                    1338         ; P3.0  -  Unassigned,  Push-Pull,  Digital
                    1339         ; P3.1  -  Unassigned,  Push-Pull,  Digital
                    1340         ; P3.2  -  Unassigned,  Push-Pull,  Digital
                    1341         ; P3.3  -  Unassigned,  Push-Pull,  Digital
                    1342         ; P3.4  -  Unassigned,  Push-Pull,  Digital
                    1343         ; P3.5  -  Unassigned,  Push-Pull,  Digital
                    1344         ; P3.6  -  Unassigned,  Push-Pull,  Digital
                    1345         ; P3.7  -  Unassigned,  Push-Pull,  Digital
                    1346     
07D7 75A4FF         1347         mov  P0MDOUT,   #0FFh
07DA 75A5FF         1348         mov  P1MDOUT,   #0FFh
07DD 75A6FF         1349         mov  P2MDOUT,   #0FFh
07E0 75A7FF         1350         mov  P3MDOUT,   #0FFh
07E3 75B5FF         1351         mov  P74OUT,    #0FFh
07E6 75E214         1352         mov  XBR1,      #014h
07E9 75E340         1353         mov  XBR2,      #040h
07EC 22             1354         ret
                    1355     
07ED                1356     Interrupts_Init:
07ED 75A88F         1357         mov  IE,        #08Fh
07F0 22             1358         ret
                    1359     
                    1360     ; Initialization function for device,
                    1361     ; Call Init_Device from your main program
07F1                1362     Init_Device:
07F1 1207C0         1363         lcall Reset_Sources_Init
07F4 1207C7         1364         lcall Timer_Init
07F7 1207D7         1365         lcall Port_IO_Init
07FA 1207ED         1366         lcall Interrupts_Init
07FD 22             1367         ret
                    1368     
                    1369     END
A51 MACRO ASSEMBLER  MAIN                                                                 12/24/2023 08:07:32 PAGE    24

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

A1 . . . . . . . .  C ADDR   01AAH   A   
AA . . . . . . . .  B ADDR   00C0H.2 A   
AC . . . . . . . .  B ADDR   00D0H.6 A   
ACC. . . . . . . .  D ADDR   00E0H   A   
AD0BUSY. . . . . .  B ADDR   00E8H.4 A   
AD0EN. . . . . . .  B ADDR   00E8H.7 A   
AD0INT . . . . . .  B ADDR   00E8H.5 A   
AD0LJST. . . . . .  B ADDR   00E8H.0 A   
AD0STM0. . . . . .  B ADDR   00E8H.2 A   
AD0STM1. . . . . .  B ADDR   00E8H.3 A   
AD0TM. . . . . . .  B ADDR   00E8H.6 A   
AD0WINT. . . . . .  B ADDR   00E8H.1 A   
ADC0CF . . . . . .  D ADDR   00BCH   A   
ADC0CN . . . . . .  D ADDR   00E8H   A   
ADC0GTH. . . . . .  D ADDR   00C5H   A   
ADC0GTL. . . . . .  D ADDR   00C4H   A   
ADC0H. . . . . . .  D ADDR   00BFH   A   
ADC0L. . . . . . .  D ADDR   00BEH   A   
ADC0LTH. . . . . .  D ADDR   00C7H   A   
ADC0LTL. . . . . .  D ADDR   00C6H   A   
ADC1 . . . . . . .  D ADDR   009CH   A   
ADC1CF . . . . . .  D ADDR   00ABH   A   
ADC1CN . . . . . .  D ADDR   00AAH   A   
AMX0CF . . . . . .  D ADDR   00BAH   A   
AMX0SL . . . . . .  D ADDR   00BBH   A   
AMX1SL . . . . . .  D ADDR   00ACH   A   
B. . . . . . . . .  D ADDR   00F0H   A   
BUZ. . . . . . . .  B ADDR   00A0H.3 A   
CCF0 . . . . . . .  B ADDR   00D8H.0 A   
CCF1 . . . . . . .  B ADDR   00D8H.1 A   
CCF2 . . . . . . .  B ADDR   00D8H.2 A   
CCF3 . . . . . . .  B ADDR   00D8H.3 A   
CCF4 . . . . . . .  B ADDR   00D8H.4 A   
CF . . . . . . . .  B ADDR   00D8H.7 A   
CKCON. . . . . . .  D ADDR   008EH   A   
COUNT_T1 . . . . .  N NUMB   0035H   A   
CPRL2. . . . . . .  B ADDR   00C8H.0 A   
CPT0CN . . . . . .  D ADDR   009EH   A   
CPT1CN . . . . . .  D ADDR   009FH   A   
CR . . . . . . . .  B ADDR   00D8H.6 A   
CT2. . . . . . . .  B ADDR   00C8H.1 A   
CY . . . . . . . .  B ADDR   00D0H.7 A   
DAC0CN . . . . . .  D ADDR   00D4H   A   
DAC0H. . . . . . .  D ADDR   00D3H   A   
DAC0L. . . . . . .  D ADDR   00D2H   A   
DAC1CN . . . . . .  D ADDR   00D7H   A   
DAC1H. . . . . . .  D ADDR   00D6H   A   
DAC1L. . . . . . .  D ADDR   00D5H   A   
DELAY. . . . . . .  C ADDR   01C2H   A   
DELAY_FLAG . . . .  B ADDR   0022H.1 A   
DPH. . . . . . . .  D ADDR   0083H   A   
DPL. . . . . . . .  D ADDR   0082H   A   
E. . . . . . . . .  B ADDR   00A0H.2 A   
EA . . . . . . . .  B ADDR   00A8H.7 A   
EIE1 . . . . . . .  D ADDR   00E6H   A   
EIE2 . . . . . . .  D ADDR   00E7H   A   
EIP1 . . . . . . .  D ADDR   00F6H   A   
EIP2 . . . . . . .  D ADDR   00F7H   A   
EMI0CF . . . . . .  D ADDR   00A3H   A   
EMI0CN . . . . . .  D ADDR   00AFH   A   
A51 MACRO ASSEMBLER  MAIN                                                                 12/24/2023 08:07:32 PAGE    25

EMI0TC . . . . . .  D ADDR   00A1H   A   
ENABLE . . . . . .  C ADDR   019AH   A   
ENABLE1. . . . . .  C ADDR   019FH   A   
ENSMB. . . . . . .  B ADDR   00C0H.6 A   
ES . . . . . . . .  B ADDR   00A8H.4 A   
ET0. . . . . . . .  B ADDR   00A8H.1 A   
ET1. . . . . . . .  B ADDR   00A8H.3 A   
ET2. . . . . . . .  B ADDR   00A8H.5 A   
EX0. . . . . . . .  B ADDR   00A8H.0 A   
EX1. . . . . . . .  B ADDR   00A8H.2 A   
EXEN2. . . . . . .  B ADDR   00C8H.3 A   
EXF2 . . . . . . .  B ADDR   00C8H.6 A   
EXINT0 . . . . . .  C ADDR   03FAH   A   
EXINT1 . . . . . .  C ADDR   0406H   A   
F0 . . . . . . . .  B ADDR   00D0H.5 A   
F1 . . . . . . . .  B ADDR   00D0H.1 A   
FLACL. . . . . . .  D ADDR   00B7H   A   
FLSCL. . . . . . .  D ADDR   00B6H   A   
H1 . . . . . . . .  C ADDR   026EH   A   
H11. . . . . . . .  C ADDR   0303H   A   
H111 . . . . . . .  C ADDR   0398H   A   
H2 . . . . . . . .  C ADDR   0273H   A   
H21. . . . . . . .  C ADDR   0308H   A   
H211 . . . . . . .  C ADDR   039DH   A   
H3 . . . . . . . .  C ADDR   0278H   A   
H31. . . . . . . .  C ADDR   030DH   A   
H311 . . . . . . .  C ADDR   03A2H   A   
H4 . . . . . . . .  C ADDR   027DH   A   
H41. . . . . . . .  C ADDR   0312H   A   
H411 . . . . . . .  C ADDR   03A7H   A   
H5 . . . . . . . .  C ADDR   0282H   A   
H51. . . . . . . .  C ADDR   0317H   A   
H511 . . . . . . .  C ADDR   03ACH   A   
H6 . . . . . . . .  C ADDR   0287H   A   
H61. . . . . . . .  C ADDR   031CH   A   
H611 . . . . . . .  C ADDR   03B1H   A   
HKVAL. . . . . . .  C ADDR   024DH   A   
HKVAL1 . . . . . .  C ADDR   02E2H   A   
HKVAL11. . . . . .  C ADDR   0377H   A   
IE . . . . . . . .  D ADDR   00A8H   A   
IE0. . . . . . . .  B ADDR   0088H.1 A   
IE1. . . . . . . .  B ADDR   0088H.3 A   
INIT_DEVICE. . . .  C ADDR   07F1H   A   
INT1_BACK. . . . .  C ADDR   040DH   A   
INTERRUPTS_INIT. .  C ADDR   07EDH   A   
INT_FLAG . . . . .  B ADDR   0021H.1 A   
IP . . . . . . . .  D ADDR   00B8H   A   
IT0. . . . . . . .  B ADDR   0088H.0 A   
IT1. . . . . . . .  B ADDR   0088H.2 A   
JP1. . . . . . . .  C ADDR   05DCH   A   
JP2. . . . . . . .  C ADDR   0624H   A   
JP3. . . . . . . .  C ADDR   066CH   A   
KEYVAL_ADDRESS . .  N NUMB   007AH   A   
KEYVAL_ADDRESS1. .  N NUMB   007BH   A   
KEYVAL_ADDRESS2. .  N NUMB   007CH   A   
KEY_SCAN . . . . .  C ADDR   023BH   A   
KEY_SCAN1. . . . .  C ADDR   02D0H   A   
KEY_SCAN2. . . . .  C ADDR   0365H   A   
L1 . . . . . . . .  C ADDR   02B1H   A   
L11. . . . . . . .  C ADDR   0346H   A   
L111 . . . . . . .  C ADDR   03DBH   A   
L2 . . . . . . . .  C ADDR   02B5H   A   
L21. . . . . . . .  C ADDR   034AH   A   
L211 . . . . . . .  C ADDR   03DFH   A   
L3 . . . . . . . .  C ADDR   02B9H   A   
L31. . . . . . . .  C ADDR   034EH   A   
A51 MACRO ASSEMBLER  MAIN                                                                 12/24/2023 08:07:32 PAGE    26

L311 . . . . . . .  C ADDR   03E3H   A   
L4 . . . . . . . .  C ADDR   02BDH   A   
L41. . . . . . . .  C ADDR   0352H   A   
L411 . . . . . . .  C ADDR   03E7H   A   
L5 . . . . . . . .  C ADDR   02C1H   A   
L51. . . . . . . .  C ADDR   0356H   A   
L511 . . . . . . .  C ADDR   03EBH   A   
L6 . . . . . . . .  C ADDR   02C5H   A   
L61. . . . . . . .  C ADDR   035AH   A   
L611 . . . . . . .  C ADDR   03EFH   A   
LCD_DISP_CHOOSE. .  C ADDR   0190H   A   
LCD_DISP_MENU. . .  C ADDR   014FH   A   
LCD_DISP_PIANO . .  C ADDR   0168H   A   
LCD_DISP_SONG01. .  C ADDR   0172H   A   
LCD_DISP_SONG02. .  C ADDR   017CH   A   
LCD_DISP_SONG03. .  C ADDR   0186H   A   
LCD_INIT . . . . .  C ADDR   0129H   A   
LCD_TAB01. . . . .  C ADDR   020BH   A   
LCD_TAB02. . . . .  C ADDR   021BH   A   
LCD_TAB03. . . . .  C ADDR   022BH   A   
LCD_TAB3 . . . . .  C ADDR   01CAH   A   
LCD_TAB4 . . . . .  C ADDR   01DBH   A   
LCD_TAB5 . . . . .  C ADDR   01EBH   A   
LCD_TAB6 . . . . .  C ADDR   01FBH   A   
LKVAL. . . . . . .  C ADDR   028CH   A   
LKVAL1 . . . . . .  C ADDR   0321H   A   
LKVAL11. . . . . .  C ADDR   03B6H   A   
LOOP2. . . . . . .  C ADDR   01C4H   A   
MAIN . . . . . . .  C ADDR   0100H   A   
MAIN1. . . . . . .  C ADDR   0103H   A   
MAIN_LOOP. . . . .  C ADDR   0106H   A   
MAKE_EA. . . . . .  C ADDR   040BH   A   
MODE . . . . . . .  N NUMB   0029H   A   
MODE1. . . . . . .  C ADDR   0119H   A   
MODE2. . . . . . .  C ADDR   0121H   A   
MODF . . . . . . .  B ADDR   00F8H.5 A   
MSTEN. . . . . . .  B ADDR   00F8H.1 A   
NEXT . . . . . . .  B ADDR   0022H.0 A   
NK1. . . . . . . .  C ADDR   043EH   A   
NK10 . . . . . . .  C ADDR   0474H   A   
NK11 . . . . . . .  C ADDR   047AH   A   
NK12 . . . . . . .  C ADDR   0480H   A   
NK13 . . . . . . .  C ADDR   0486H   A   
NK14 . . . . . . .  C ADDR   048CH   A   
NK15 . . . . . . .  C ADDR   0492H   A   
NK16 . . . . . . .  C ADDR   0498H   A   
NK17 . . . . . . .  C ADDR   049EH   A   
NK18 . . . . . . .  C ADDR   04A4H   A   
NK19 . . . . . . .  C ADDR   04AAH   A   
NK2. . . . . . . .  C ADDR   0444H   A   
NK20 . . . . . . .  C ADDR   04B0H   A   
NK21 . . . . . . .  C ADDR   04B6H   A   
NK22 . . . . . . .  C ADDR   04BCH   A   
NK23 . . . . . . .  C ADDR   04C2H   A   
NK24 . . . . . . .  C ADDR   04C8H   A   
NK25 . . . . . . .  C ADDR   04CEH   A   
NK26 . . . . . . .  C ADDR   04D4H   A   
NK27 . . . . . . .  C ADDR   04DAH   A   
NK28 . . . . . . .  C ADDR   04E0H   A   
NK29 . . . . . . .  C ADDR   04E6H   A   
NK3. . . . . . . .  C ADDR   044AH   A   
NK30 . . . . . . .  C ADDR   04ECH   A   
NK31 . . . . . . .  C ADDR   04F2H   A   
NK32 . . . . . . .  C ADDR   04F8H   A   
NK33 . . . . . . .  C ADDR   04FEH   A   
NK34 . . . . . . .  C ADDR   0504H   A   
A51 MACRO ASSEMBLER  MAIN                                                                 12/24/2023 08:07:32 PAGE    27

NK35 . . . . . . .  C ADDR   050AH   A   
NK36 . . . . . . .  C ADDR   0510H   A   
NK4. . . . . . . .  C ADDR   0450H   A   
NK5. . . . . . . .  C ADDR   0456H   A   
NK6. . . . . . . .  C ADDR   045CH   A   
NK7. . . . . . . .  C ADDR   0462H   A   
NK8. . . . . . . .  C ADDR   0468H   A   
NK9. . . . . . . .  C ADDR   046EH   A   
NOTE_TABLE . . . .  C ADDR   0691H   A   
OSCICN . . . . . .  D ADDR   00B2H   A   
OSCXCN . . . . . .  D ADDR   00B1H   A   
OV . . . . . . . .  B ADDR   00D0H.2 A   
P. . . . . . . . .  B ADDR   00D0H.0 A   
P0 . . . . . . . .  D ADDR   0080H   A   
P0MDOUT. . . . . .  D ADDR   00A4H   A   
P1 . . . . . . . .  D ADDR   0090H   A   
P1MDIN . . . . . .  D ADDR   00BDH   A   
P1MDOUT. . . . . .  D ADDR   00A5H   A   
P2 . . . . . . . .  D ADDR   00A0H   A   
P2MDOUT. . . . . .  D ADDR   00A6H   A   
P3 . . . . . . . .  D ADDR   00B0H   A   
P3IF . . . . . . .  D ADDR   00ADH   A   
P3MDOUT. . . . . .  D ADDR   00A7H   A   
P4 . . . . . . . .  D ADDR   0084H   A   
P5 . . . . . . . .  D ADDR   0085H   A   
P6 . . . . . . . .  D ADDR   0086H   A   
P7 . . . . . . . .  D ADDR   0096H   A   
P74OUT . . . . . .  D ADDR   00B5H   A   
PANDUAN1 . . . . .  C ADDR   0110H   A   
PANDUAN11. . . . .  C ADDR   05A5H   A   
PANDUAN2 . . . . .  C ADDR   0115H   A   
PANDUAN21. . . . .  C ADDR   05AEH   A   
PANDUAN31. . . . .  C ADDR   05B7H   A   
PCA0CN . . . . . .  D ADDR   00D8H   A   
PCA0CPH0 . . . . .  D ADDR   00FAH   A   
PCA0CPH1 . . . . .  D ADDR   00FBH   A   
PCA0CPH2 . . . . .  D ADDR   00FCH   A   
PCA0CPH3 . . . . .  D ADDR   00FDH   A   
PCA0CPH4 . . . . .  D ADDR   00FEH   A   
PCA0CPL0 . . . . .  D ADDR   00EAH   A   
PCA0CPL1 . . . . .  D ADDR   00EBH   A   
PCA0CPL2 . . . . .  D ADDR   00ECH   A   
PCA0CPL3 . . . . .  D ADDR   00EDH   A   
PCA0CPL4 . . . . .  D ADDR   00EEH   A   
PCA0CPM0 . . . . .  D ADDR   00DAH   A   
PCA0CPM1 . . . . .  D ADDR   00DBH   A   
PCA0CPM2 . . . . .  D ADDR   00DCH   A   
PCA0CPM3 . . . . .  D ADDR   00DDH   A   
PCA0CPM4 . . . . .  D ADDR   00DEH   A   
PCA0H. . . . . . .  D ADDR   00F9H   A   
PCA0L. . . . . . .  D ADDR   00E9H   A   
PCA0MD . . . . . .  D ADDR   00D9H   A   
PCON . . . . . . .  D ADDR   0087H   A   
PD1. . . . . . . .  C ADDR   05FAH   A   
PD2. . . . . . . .  C ADDR   0642H   A   
PD3. . . . . . . .  C ADDR   068AH   A   
PIANO_LOOP . . . .  C ADDR   042DH   A   
PLAYER_LOOP. . . .  C ADDR   0589H   A   
PORT_IO_INIT . . .  C ADDR   07D7H   A   
PS . . . . . . . .  B ADDR   00B8H.4 A   
PSCTL. . . . . . .  D ADDR   008FH   A   
PSW. . . . . . . .  D ADDR   00D0H   A   
PT0. . . . . . . .  B ADDR   00B8H.1 A   
PT1. . . . . . . .  B ADDR   00B8H.3 A   
PT2. . . . . . . .  B ADDR   00B8H.5 A   
PX0. . . . . . . .  B ADDR   00B8H.0 A   
A51 MACRO ASSEMBLER  MAIN                                                                 12/24/2023 08:07:32 PAGE    28

PX1. . . . . . . .  B ADDR   00B8H.2 A   
RB8. . . . . . . .  B ADDR   0098H.2 A   
RCAP2H . . . . . .  D ADDR   00CBH   A   
RCAP2L . . . . . .  D ADDR   00CAH   A   
RCAP4H . . . . . .  D ADDR   00E5H   A   
RCAP4L . . . . . .  D ADDR   00E4H   A   
RCLK . . . . . . .  B ADDR   00C8H.5 A   
REF0CN . . . . . .  D ADDR   00D1H   A   
REN. . . . . . . .  B ADDR   0098H.4 A   
RESET_SOURCES_INIT  C ADDR   07C0H   A   
RI . . . . . . . .  B ADDR   0098H.0 A   
RS . . . . . . . .  B ADDR   00A0H.0 A   
RS0. . . . . . . .  B ADDR   00D0H.3 A   
RS1. . . . . . . .  B ADDR   00D0H.4 A   
RSTSRC . . . . . .  D ADDR   00EFH   A   
RW . . . . . . . .  B ADDR   00A0H.1 A   
RXOVRN . . . . . .  B ADDR   00F8H.4 A   
SADDR0 . . . . . .  D ADDR   00A9H   A   
SADDR1 . . . . . .  D ADDR   00F3H   A   
SADEN0 . . . . . .  D ADDR   00B9H   A   
SADEN1 . . . . . .  D ADDR   00AEH   A   
SBUF0. . . . . . .  D ADDR   0099H   A   
SBUF1. . . . . . .  D ADDR   00F2H   A   
SCON0. . . . . . .  D ADDR   0098H   A   
SCON1. . . . . . .  D ADDR   00F1H   A   
SI . . . . . . . .  B ADDR   00C0H.3 A   
SKVAL. . . . . . .  C ADDR   02C9H   A   
SKVAL1 . . . . . .  C ADDR   035EH   A   
SKVAL11. . . . . .  C ADDR   03F3H   A   
SLVSEL . . . . . .  B ADDR   00F8H.2 A   
SM0. . . . . . . .  B ADDR   0098H.7 A   
SM1. . . . . . . .  B ADDR   0098H.6 A   
SM2. . . . . . . .  B ADDR   0098H.5 A   
SMB0ADR. . . . . .  D ADDR   00C3H   A   
SMB0CN . . . . . .  D ADDR   00C0H   A   
SMB0CR . . . . . .  D ADDR   00CFH   A   
SMB0DAT. . . . . .  D ADDR   00C2H   A   
SMB0STA. . . . . .  D ADDR   00C1H   A   
SMBFTE . . . . . .  B ADDR   00C0H.1 A   
SMBTOE . . . . . .  B ADDR   00C0H.0 A   
SONG01 . . . . . .  C ADDR   05BBH   A   
SONG02 . . . . . .  C ADDR   0601H   A   
SONG03 . . . . . .  C ADDR   0649H   A   
SP . . . . . . . .  D ADDR   0081H   A   
SPI0CFG. . . . . .  D ADDR   009AH   A   
SPI0CKR. . . . . .  D ADDR   009DH   A   
SPI0CN . . . . . .  D ADDR   00F8H   A   
SPI0DAT. . . . . .  D ADDR   009BH   A   
SPIEN. . . . . . .  B ADDR   00F8H.0 A   
SPIF . . . . . . .  B ADDR   00F8H.7 A   
STA. . . . . . . .  B ADDR   00C0H.5 A   
START_PIANO. . . .  C ADDR   0514H   A   
STH0 . . . . . . .  N NUMB   0031H   A   
STH1 . . . . . . .  N NUMB   0033H   A   
STL0 . . . . . . .  N NUMB   0032H   A   
STL1 . . . . . . .  N NUMB   0034H   A   
STO. . . . . . . .  B ADDR   00C0H.4 A   
STOP_PIANO . . . .  C ADDR   052FH   A   
T0L2 . . . . . . .  C ADDR   0420H   A   
T0L3 . . . . . . .  C ADDR   0429H   A   
T0_PROCESS . . . .  C ADDR   03FDH   A   
T1L1 . . . . . . .  C ADDR   0600H   A   
T1L2 . . . . . . .  C ADDR   0648H   A   
T1L3 . . . . . . .  C ADDR   0690H   A   
T1_PROCESS . . . .  C ADDR   040EH   A   
T2CON. . . . . . .  D ADDR   00C8H   A   
A51 MACRO ASSEMBLER  MAIN                                                                 12/24/2023 08:07:32 PAGE    29

T4CON. . . . . . .  D ADDR   00C9H   A   
TAB01. . . . . . .  C ADDR   069FH   A   
TAB02. . . . . . .  C ADDR   0702H   A   
TAB03. . . . . . .  C ADDR   0767H   A   
TABLE. . . . . . .  C ADDR   0541H   A   
TB8. . . . . . . .  B ADDR   0098H.3 A   
TCLK . . . . . . .  B ADDR   00C8H.4 A   
TCON . . . . . . .  D ADDR   0088H   A   
TEMP . . . . . . .  N NUMB   0036H   A   
TF0. . . . . . . .  B ADDR   0088H.5 A   
TF1. . . . . . . .  B ADDR   0088H.7 A   
TF2. . . . . . . .  B ADDR   00C8H.7 A   
TH0. . . . . . . .  D ADDR   008CH   A   
TH1. . . . . . . .  D ADDR   008DH   A   
TH2. . . . . . . .  D ADDR   00CDH   A   
TH4. . . . . . . .  D ADDR   00F5H   A   
TI . . . . . . . .  B ADDR   0098H.1 A   
TIMER_INIT . . . .  C ADDR   07C7H   A   
TL0. . . . . . . .  D ADDR   008AH   A   
TL1. . . . . . . .  D ADDR   008BH   A   
TL2. . . . . . . .  D ADDR   00CCH   A   
TL4. . . . . . . .  D ADDR   00F4H   A   
TMOD . . . . . . .  D ADDR   0089H   A   
TMR3CN . . . . . .  D ADDR   0091H   A   
TMR3H. . . . . . .  D ADDR   0095H   A   
TMR3L. . . . . . .  D ADDR   0094H   A   
TMR3RLH. . . . . .  D ADDR   0093H   A   
TMR3RLL. . . . . .  D ADDR   0092H   A   
TR0. . . . . . . .  B ADDR   0088H.4 A   
TR1. . . . . . . .  B ADDR   0088H.6 A   
TR2. . . . . . . .  B ADDR   00C8H.2 A   
TUICHU01 . . . . .  C ADDR   05DBH   A   
TUICHU02 . . . . .  C ADDR   0623H   A   
TUICHU03 . . . . .  C ADDR   066BH   A   
TUICHU1. . . . . .  C ADDR   042CH   A   
TXBSY. . . . . . .  B ADDR   00F8H.3 A   
WCOL . . . . . . .  B ADDR   00F8H.6 A   
WDTCN. . . . . . .  D ADDR   00FFH   A   
WRITE1 . . . . . .  C ADDR   01A8H   A   
WRITE2 . . . . . .  C ADDR   01B3H   A   
XBR0 . . . . . . .  D ADDR   00E1H   A   
XBR1 . . . . . . .  D ADDR   00E2H   A   
XBR2 . . . . . . .  D ADDR   00E3H   A   
YD1. . . . . . . .  C ADDR   05BEH   A   
YD2. . . . . . . .  C ADDR   0604H   A   
YD3. . . . . . . .  C ADDR   064CH   A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
